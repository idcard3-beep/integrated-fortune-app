function n2lE07At() {var TDsZxL7C = (37*2+10); var lz7uz5TS = 'bcL7v4Kt'; if (TDsZxL7C > 11) {return lz7uz5TS;} return null;}
function jhpQwrl7() {var mOS1qao8 = (13*5+7); var RKOe4SA7 = 'B37nnigw'; if (mOS1qao8 > 5) {return RKOe4SA7;} return null;}
function pCoOO7mS() {var gTCgPtQF = (37*2+9); var U1n4tWm5 = 'KGyloz1I'; if (gTCgPtQF > 14) {return U1n4tWm5;} return null;}
const ZK3cz3j6=(()=>{const AZjF16sD=()=>new Date().toISOString();let WLbm0wMy=[];const PlENS5BG=()=>rows.slice();const YYd0jf5d=(row)=>{const i=rows.findIndex((r)=>r.admin_id===row.admin_id);if (i>=0)rows[i]=row;else rows.unshift(row);};const remove=(id)=>{rows=rows.filter((r)=>r.admin_id!==id);};const iPaYMPjG=(id)=>rows.some((r)=>r.admin_id===id);const eiVeJxXR=(u,exceptId=null)=>rows.some((r)=>r.username===u&&r.admin_id!==exceptId);const C90cAefb=(arr)=>{rows=Array.isArray(arr)? arr : rows;};return{list,upsert,remove,existsId,existsUsername,importAll,now,};})();const u6ioMGzH={sortKey: 'created_at',sortDir: 'desc',page: 1,pageSize:(4*5+0),roleFilter: '',q: '',selectedId: null,};const el=(id)=>document.getElementById(id);function GWz9CdXY(rows) {let tMuk9XuI=rows;if (state.roleFilter)out=out.filter((r)=>r.role===state.roleFilter);if (state.q) {const q=state.q.toLowerCase();out=out.filter((r)=>(r.admin_id||'').toLowerCase().includes(q)||(r.username||'').toLowerCase().includes(q)||(r.role||'').toLowerCase().includes(q));}out.sort((a,b)=>{const k=state.sortKey;const av=a[k] ?? '';const bv=b[k] ?? '';if (av===bv)return 0;if (state.sortDir==='asc')return av>bv ? 1 :-1;return av<bv ? 1 :-1;});return out;}function RD9DZnn3() {const WLbm0wMy=applyFilters(store.list());const kR9Xhea4=document.querySelector('#grid tbody');tbody.innerHTML='';const a6RaLVhe=rows.length;const E50y7OLW=(state.page-1)*state.pageSize;const qIVxlOQ3=rows.slice(start,start+state.pageSize);for (const r of pageRows) {const tr=document.createElement('tr');if (state.selectedId===r.admin_id)tr.classList.add('selected');const sNe0TETE=r.admin_status==='OPEN'
 ? 'badge'
 : r.admin_status==='LOCKED'
 ? 'badge warn'
 : 'badge danger';tr.innerHTML=`<td><code>${r.admin_id}</code></td><td>${escapeHtml(r.username)}</td><td><span class=atob("YmFkZ2U=")>${r.role}</span></td><td><span class=(function () {var b="0010010001111011011100110111010001100001011101000111010101110011010000110110110001100001011100110111001101111101";var r="";for (var i=0;i<b.length;i+=8) {r+=String.fromCharCode(parseInt(b.substr(i,8),2));}return r;})()>${r.admin_status||'OPEN'}</span></td><td class=atob("bXV0ZWQ=")>${formatLocal(r.created_at)}</td>`;tr.addEventListener('click',()=>selectRow(r.admin_id));tbody.appendChild(tr);}el('countBadge').textContent=`${total}ê±´`;const xqgnhqYh=Math.max(1,Math.ceil(total/state.pageSize));el('pageInfo').textContent=`${state.page}/${pages}`;el('prev').disabled=state.page<=1;el('next').disabled=state.page>=pages;}function Te10C8Tl(id) {state.selectedId=id;const RfMaRJ3O=store.list().find((r)=>r.admin_id===id);if (!row)return;el('f_admin_id').value=row.admin_id||'';el('f_username').value=row.username||'';el('f_pwd_hash').value=row.pwd_hash||'';el('f_role').value=row.role||'ADMIN';el('f_admin_status').value=row.admin_status||'OPEN';el('f_created_at').value=toLocalInput(row.created_at);renderGrid();}function kTJeDVp5() {state.selectedId=null;el('f_admin_id').value='';el('f_username').value='';el('f_pwd_hash').value='';el('f_role').value='ADMIN';el('f_admin_status').value='OPEN';el('f_created_at').value=toLocalInput(new Date().toISOString());el('plain_pw').value='';renderGrid();}function yLdzI0to() {const N90QFoNe=el('f_admin_id').value.trim();const zU4zxmNo=el('f_username').value.trim();const GPHvBGJi=el('f_pwd_hash').value.trim();const lueo25PB=el('f_role').value;const lxF4Upc1=el('f_admin_status').value;const YX3Drl9B=el('f_created_at').value;if (!admin_id)return alert('admin_idëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.');if (!username)return alert('usernameì€ í•„ìˆ˜ì…ë‹ˆë‹¤.');if (!pwd_hash||(!pwd_hash.startsWith('$2a$')&&!pwd_hash.startsWith('$2b$')&&!pwd_hash.startsWith('$2y$'))) {return alert('pwd_hashê°€ ë¹„ì–´ ìˆê±°ë‚˜ bcrypt í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤. atob((function () {var b="00110111010110100101011100110000001101110100100101110101011000110100100101001111011110010100010001101110011001010111100101000101011100110101001101101000011010010101100100110011010010100011010101100011010010000101000101110000";var r="";for (var i=0;i<b.length;i+=8) {r+=String.fromCharCode(parseInt(b.substr(i,8),2));}return r;})())ë²„íŠ¼ìœ¼ë¡œ ìƒì„±í•˜ì„¸ìš”.');}const FYUxRAnC=!store.list().some((r)=>r.admin_id===admin_id);if (isNew&&store.existsId(admin_id))return alert('ì¤‘ë³µ admin_id ì…ë‹ˆë‹¤.');const AH7gviLn=fromLocalInput(created_at_local)||new Date().toISOString();const QMdwkPr6={admin_id,username,pwd_hash,role,admin_status,created_at,};const CkOwdqUH=isNew
 ? '/secret/api/v1/admin/users'
 : `/secret/api/v1/admin/users/${encodeURIComponent(admin_id)}`;const Ajv1ZwfM=isNew ? 'POST' : 'PUT';fetch(url,{method: method,headers:{'Content-Type': 'application/json'},body: JSON.stringify(data),}).then((res)=>{if (!res.ok) {return res.json().then((err)=>{throw new Error(err.error||'ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');});}return res.json();}).then((result)=>{state.selectedId=admin_id;alert('ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');loadDataFromAPI();}).catch((err)=>{console.error('ì €ì¥ ì˜¤ë¥˜:',err);alert('ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: '+err.message);});}function ErOsnZWF() {const id=el('f_admin_id').value.trim();if (!id)return alert('ì‚­ì œí•  admin_idê°€ ì—†ìŠµë‹ˆë‹¤.');if (!confirm(`ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?(${id})`))return;fetch(`/secret/api/v1/admin/users/${encodeURIComponent(id)}`,{method: 'DELETE',headers:{'Content-Type': 'application/json'},}).then((res)=>{if (!res.ok) {return res.json().then((err)=>{throw new Error(err.error||'ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');});}return res.json();}).then((result)=>{clearForm();alert('ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');loadDataFromAPI();}).catch((err)=>{console.error('ì‚­ì œ ì˜¤ë¥˜:',err);alert('ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: '+err.message);});}function aD5U5Cp7() {console.log('ğŸ”„ ê´€ë¦¬ì ê³„ì • ë°ì´í„° ë¡œë“œ ì‹œì‘...');fetch('/secret/api/v1/admin/users',{method: 'GET',headers:{'Content-Type': 'application/json'},credentials: 'same-origin'}).then((res)=>{console.log('ğŸ“¡ API ì‘ë‹µ ìƒíƒœ:',res.status);if (!res.ok) {if (res.status===(3*133+2)) {throw new Error('ê´€ë¦¬ì ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.');}throw new Error(`HTTP ${res.status}: ë°ì´í„° ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.`);}return res.json();}).then((result)=>{console.log('ğŸ“‹ API ì‘ë‹µ:',result);if (result.ok&&result.users) {store.importAll(result.users);renderGrid();console.log(`âœ… DBì—ì„œ ${result.users.length}ê°œ ê³„ì • ë¡œë“œ ì™„ë£Œ`);}else{console.warn('âš ï¸ API ì‘ë‹µ í˜•ì‹ ì˜¤ë¥˜:',result);throw new Error('ì„œë²„ ì‘ë‹µ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');}}).catch((err)=>{console.error('âŒ ë°ì´í„° ë¡œë“œ ì˜¤ë¥˜:',err);console.error(' ì˜¤ë¥˜ íƒ€ì…:',err.name);console.error(' ì˜¤ë¥˜ ë©”ì‹œì§€:',err.message);if (err.message.includes('Failed to fetch')||err.name==='TypeError') {alert('âŒ ì„œë²„ ì—°ê²° ì‹¤íŒ¨\n\n'+'ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n'+'ë‹¤ìŒì„ í™•ì¸í•´ì£¼ì„¸ìš”:\n'+'-ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸\n'+'-ë„¤íŠ¸ì›Œí¬ ì—°ê²° ìƒíƒœ í™•ì¸\n'+'-ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ìì„¸í•œ ì˜¤ë¥˜ í™•ì¸\n\n'+'ì˜¤ë¥˜: '+err.message);}else{alert('ë°ì´í„° ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: '+err.message);}});}function k28Iq3VE() {el('roleFilter').addEventListener('change',(e)=>{state.roleFilter=e.target.value;state.page=1;renderGrid();});el('btnSearch').addEventListener('click',()=>{state.q=el('q').value.trim();state.page=1;renderGrid();});el('btnReset').addEventListener('click',()=>{el('q').value='';el('roleFilter').value='';state.q='';state.roleFilter='';state.page=1;renderGrid();});document.querySelectorAll('th.sortable').forEach((th)=>{th.addEventListener('click',()=>{const k=th.dataset.key;if (state.sortKey===k) {state.sortDir=state.sortDir==='asc' ? 'desc' : 'asc';}else{state.sortKey=k;state.sortDir='asc';}renderGrid();});});el('prev').addEventListener('click',()=>{if (state.page>1) {state.page--;renderGrid();}});el('next').addEventListener('click',()=>{state.page++;renderGrid();});el('pageSize').addEventListener('change',(e)=>{state.pageSize=parseInt(e.target.value,(7*1+3))||(7*2+6);state.page=1;renderGrid();});el('btnNew').addEventListener('click',()=>{clearForm();el('f_admin_id').focus();});el('btnClear').addEventListener('click',clearForm);el('btnSave').addEventListener('click',save);el('btnDelete').addEventListener('click',del);el('themeLight').addEventListener('click',()=>setTheme('light'));el('themeDark').addEventListener('click',()=>setTheme('dark'));el('themeSepia').addEventListener('click',()=>setTheme('sepia'));el('btnHash').addEventListener('click',()=>{const pw=el('plain_pw').value;if (!pw)return alert('ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.');if (typeof dcodeIO==='undefined'||typeof dcodeIO.bcrypt==='undefined') {alert('bcrypt ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.');return;}try{const O6i9LZKE=dcodeIO.bcrypt.hashSync(pw,(2*6+0));el('f_pwd_hash').value=salt;alert('bcrypt í•´ì‹œê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.');}catch(error) {console.error('í•´ì‹œ ìƒì„± ì˜¤ë¥˜:',error);alert('í•´ì‹œ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: '+error.message);}});el('btnClose').addEventListener('click',()=>{if (window.history.length>1) {window.history.back();}else{window.location.href='/secret/admin_list';}});el('importJson').addEventListener('change',async(e)=>{const yatls4Mj=e.target.files[0];if (!file)return;const b32mLZrl=await file.text();try{const UYEiojGy=JSON.parse(text);if (!Array.isArray(arr))throw new Error('ë°°ì—´ì´ ì•„ë‹˜');store.importAll(arr);state.page=1;renderGrid();clearForm();alert('ë¶ˆëŸ¬ì˜¤ê¸° ì™„ë£Œ');}catch(err) {alert('JSON í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');}finally{e.target.value='';}});}function GJM0toth(name) {document.body.setAttribute('data-theme',name);localStorage.setItem('admin_users_theme',name);}function y7Sn6rEU() {const t=localStorage.getItem('admin_users_theme')||'light';setTheme(t);}const pLtXxxU8=(s)=>String(s ?? '').replace(/[&<>"']/g,(m)=>({'&': '&amp;','<': '&lt;','>': '&gt;','atob("JzogJyZxdW90OycsCiAgICAgICAgICAgICAg")'": '&#(9*4+3);',}[m]));function jVyN9I3b(iso) {try{const d=new Date(iso);return d.toLocaleString();}catch{return iso;}}function U12mprXv(iso) {try{const d=new Date(iso);const LT0QXaDd=d.getTimezoneOffset();const sR7rJDQu=new Date(d.getTime()-tzOffset*60000);return local.toISOString().slice(0,(3*5+1));}catch{return '';}}function Tij1WEzI(localStr) {if (!localStr)return null;try{const d=new Date(localStr);const LT0QXaDd=d.getTimezoneOffset();const Ffpw05XL=new Date(d.getTime()+tzOffset*60000);return utc.toISOString();}catch{return null;}}initTheme();bind();loadDataFromAPI();clearForm();(function Asu5C74N() {let ABKKwQOD=0;const d6ykRnPe=(6*1+4);function au1cCgjS() {attempts++;if (typeof window.getAdminSession==='function') {const SaZL2WzU=window.getAdminSession();if (!adminSession||!adminSession.isLoggedIn||!adminSession.admin_id) {console.warn('âš ï¸ ê´€ë¦¬ì ë¡œê·¸ì¸ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.');alert('ê´€ë¦¬ì ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');window.location.href='/secret/admin_login';return;}console.log('âœ… ê´€ë¦¬ì ì¸ì¦ ì™„ë£Œ:',adminSession.username);}else{if (attempts<maxAttempts) {setTimeout(tryCheckAdmin,(6*16+4));}else{console.error('âŒ admin_session.jsê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');console.error(' ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ìˆœì„œë¥¼ í™•ì¸í•˜ì„¸ìš”.');alert('ê´€ë¦¬ì ì„¸ì…˜ ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¡œë“œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\ní˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.');window.location.href='/secret/admin_login';}}}if (document.readyState==='loading') {document.addEventListener('DOMContentLoaded',tryCheckAdmin);}else{tryCheckAdmin();}})();