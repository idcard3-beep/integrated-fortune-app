:root{--primary-color:#2563eb;--secondary-color:#1e40af;--accent-color:#dc2626;--success-color:#16a34a;--warning-color:#ea580c;--saju-color:#7c3aed;--background:#f8fafc;--surface:#fff;--text-primary:#1f2937;--text-secondary:#6b7280;--border:#d1d5db;--border-light:#e5e7eb;--shadow-sm:0 1px 2px 0 rgba(0,0,0,0.05);--shadow-md:0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -1px rgba(0,0,0,0.06);--shadow-lg:0 10px 15px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);--radius-sm:.375rem;--radius-md:.5rem;--radius-lg:.75rem;--spacing-xs:.25rem;--spacing-sm:.5rem;--spacing-md:1rem;--spacing-lg:1.5rem;--spacing-xl:2rem}*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:var(--background);color:var(--text-primary);line-height:1.6;min-height:100vh}.container{max-width:1200px;margin:0 auto;padding:var(--spacing-lg)}.header{text-align:center;margin-bottom:var(--spacing-xl);padding:var(--spacing-xl);background:var(--surface);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);border:1px solid var(--border-light)}.header h1{font-family:'Noto Serif KR',serif;font-size:2.25rem;font-weight:700;color:var(--primary-color);margin-bottom:var(--spacing-sm)}.subtitle{font-size:1.125rem;color:var(--text-secondary);font-weight:500}.current-saju-section{margin-bottom:var(--spacing-xl);background:linear-gradient(135deg,#f3f4f6 0,#e5e7eb 100%);border-radius:var(--radius-lg);border:2px solid var(--saju-color);overflow:hidden}.saju-container{padding:var(--spacing-xl)}.saju-container h3{color:var(--saju-color);margin-bottom:var(--spacing-lg);font-family:'Noto Serif KR',serif;font-size:1.5rem;font-weight:600;text-align:center}.current-time-display{background:var(--surface);padding:var(--spacing-lg);border-radius:var(--radius-md);text-align:center;margin-bottom:var(--spacing-lg);border:1px solid var(--border-light);box-shadow:var(--shadow-md)}.loading-text{color:var(--text-secondary);font-style:italic;animation:pulse 1.5s infinite ease-in-out}.pillar-container{display:grid;grid-template-columns:repeat(4,1fr);gap:var(--spacing-lg);margin-bottom:var(--spacing-lg)}.pillar{background:var(--surface);border-radius:var(--radius-lg);padding:var(--spacing-lg);text-align:center;border:3px solid transparent;transition:all .3s ease;position:relative;overflow:hidden;box-shadow:var(--shadow-md)}.pillar::before{content:'';position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--saju-color),var(--primary-color))}.pillar:hover{border-color:var(--saju-color);transform:translateY(-2px);box-shadow:var(--shadow-lg)}.year-pillar{border-color:#ef4444}.year-pillar::before{background:linear-gradient(90deg,#ef4444,#dc2626)}.month-pillar{border-color:#10b981}.month-pillar::before{background:linear-gradient(90deg,#10b981,#059669)}.day-pillar{border-color:#3b82f6}.day-pillar::before{background:linear-gradient(90deg,#3b82f6,#2563eb)}.hour-pillar{border-color:#8b5cf6}.hour-pillar::before{background:linear-gradient(90deg,#8b5cf6,var(--saju-color))}.pillar-label{font-size:.875rem;color:var(--text-secondary);margin-bottom:var(--spacing-sm);font-weight:500}.pillar-value{font-family:'Noto Serif KR',serif;font-size:2rem;font-weight:700;color:var(--text-primary);margin-bottom:var(--spacing-sm);text-shadow:1px 1px 2px rgba(0,0,0,0.1)}.pillar-description{font-size:.75rem;color:var(--text-secondary);font-style:italic}.saju-time-info{background:var(--surface);padding:var(--spacing-md);border-radius:var(--radius-md);text-align:center;border:1px solid var(--border-light);font-size:.875rem;color:var(--text-secondary)}.saju-time-info p{margin:0}.consultation-section{margin-bottom:var(--spacing-xl)}.consultation-container{background:var(--surface);border-radius:var(--radius-lg);padding:var(--spacing-xl);box-shadow:var(--shadow-md);border:1px solid var(--border-light)}.consultation-container h3{color:var(--primary-color);margin-bottom:var(--spacing-lg);font-family:'Noto Serif KR',serif;font-size:1.5rem;font-weight:600}.form-row{display:grid;grid-template-columns:1fr 1fr;gap:var(--spacing-lg);margin-bottom:var(--spacing-lg)}.form-group{display:flex;flex-direction:column}.form-group label{font-weight:600;margin-bottom:var(--spacing-sm);color:var(--text-primary);font-size:.875rem}.form-control{padding:.75rem 1rem;border:2px solid var(--border);border-radius:var(--radius-md);font-size:1rem;transition:all .2s ease;background:var(--surface)}.form-control:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px rgba(37,99,235,0.1)}.main-content{display:flex;flex-direction:column;gap:var(--spacing-xl)}.hexagram-section{background:var(--surface);border-radius:var(--radius-lg);padding:var(--spacing-xl);box-shadow:var(--shadow-md);border:1px solid var(--border-light)}.hexagram-section h3{color:var(--primary-color);margin-bottom:var(--spacing-lg);font-family:'Noto Serif KR',serif;font-size:1.375rem;text-align:center;font-weight:600}.hexagram-display{display:flex;flex-direction:column;gap:var(--spacing-sm);margin-bottom:var(--spacing-lg);padding:var(--spacing-lg);background:#fafbfc;border-radius:var(--radius-md);border:2px dashed var(--border)}.line-position{display:flex;align-items:center;gap:var(--spacing-md);min-height:60px}.line-label{width:60px;font-weight:600;color:var(--primary-color);text-align:right;font-size:.875rem}.line-slots-container{display:flex;gap:5px;align-items:center;flex-grow:1;justify-content:center}.line-slot{width:45px;height:60px;border:2px dashed var(--border);border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;background:var(--surface);transition:all .3s ease;position:relative;flex-shrink:0}.line-slot.filled{border-color:var(--primary-color);background:rgba(37,99,235,0.05)}.line-slot .coin{width:40px;height:55px;margin:0}.line-slot .coin-face{width:100%;height:100%}.line-slot .yang-coin .coin-face::before{width:8px;height:50px}.line-slot .yin-coin .coin-face::before{width:5px;height:50px;left:calc(50% - 8px)}.line-slot .yin-coin .coin-face::after{width:5px;height:50px;left:calc(50%+3px)}.line-slot .yang-moving-coin .coin-face::before{width:7px;height:50px}.line-slot .yang-moving-coin::before{width:3px;height:52px}.line-slot .yin-moving-coin .coin-face::before{width:5px;height:50px;left:calc(50% - 8px)}.line-slot .yin-moving-coin .coin-face::after{width:5px;height:50px;left:calc(50%+3px)}.line-slot .yin-moving-coin::before{width:2.5px;height:52px}.extra-slot{width:45px;height:60px;border:1px solid #e0e0e0;border-radius:3px;background-color:#f8f9fa;flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:.75rem;color:#666}.najia-label{position:absolute;right:5px;top:50%;transform:translateY(-50%);font-size:.75rem;font-weight:600;color:var(--saju-color);background:rgba(124,58,237,0.1);padding:2px 8px;border-radius:4px;z-index:5}.yang-line{position:relative}.yang-line::before{content:'';position:absolute;width:8px;height:30px;background:#1f2937;border-radius:2px;left:50%;top:50%;transform:translate(-50%,-50%)}.yin-line{position:relative}.yin-line::before{content:'';position:absolute;width:6px;height:30px;background:#1f2937;border-radius:1px;left:calc(50% - 7px);top:50%;transform:translateY(-50%)}.yin-line::after{content:'';position:absolute;width:6px;height:30px;background:#1f2937;border-radius:1px;left:calc(50%+1px);top:50%;transform:translateY(-50%)}.yang-moving-line{position:relative;border-color:var(--accent-color);animation:pulse 1.5s infinite ease-in-out}.yang-moving-line::before{content:'';position:absolute;width:8px;height:30px;background:#1f2937;border-radius:2px;left:50%;top:50%;transform:translate(-50%,-50%)}.yang-moving-line::after{content:'';position:absolute;width:4px;height:35px;background:var(--accent-color);left:50%;top:50%;transform:translate(-50%,-50%) rotate(45deg);border-radius:2px}.yin-moving-line{position:relative;border-color:var(--accent-color);animation:pulse 1.5s infinite ease-in-out}.yin-moving-line::before{content:'';position:absolute;width:6px;height:30px;background:#1f2937;border-radius:1px;left:calc(50% - 7px);top:50%;transform:translateY(-50%);box-shadow:8px 0 0 0 #1f2937}.yin-moving-line::after{content:'';position:absolute;width:3px;height:35px;background:var(--accent-color);left:50%;top:50%;transform:translate(-50%,-50%) rotate(45deg);border-radius:2px;z-index:10}@keyframes pulse{0%,100%{opacity:1}50%{opacity:.7}}.hexagram-controls{display:flex;gap:var(--spacing-md);justify-content:center}.reset-btn,.analyze-btn{padding:.75rem 1.5rem;border:none;border-radius:var(--radius-md);font-weight:600;font-size:1rem;cursor:pointer;transition:all .2s ease;min-width:140px;font-family:inherit}.reset-btn{background:var(--text-secondary);color:white}.reset-btn:hover{background:var(--text-primary);transform:translateY(-1px)}.analyze-btn{background:linear-gradient(135deg,var(--primary-color) 0,var(--secondary-color) 100%);color:white;position:relative;overflow:hidden}.analyze-btn:disabled{background:var(--border);cursor:not-allowed;transform:none}.analyze-btn:not(:disabled):hover{transform:translateY(-1px);box-shadow:var(--shadow-lg)}.coin-selection-section{background:var(--surface);border-radius:var(--radius-lg);padding:var(--spacing-xl);box-shadow:var(--shadow-md);border:1px solid var(--border-light);width:100%}.instruction-panel{text-align:center;margin-bottom:var(--spacing-xl)}.instruction-panel h2{color:var(--primary-color);margin-bottom:var(--spacing-md);font-family:'Noto Serif KR',serif;font-weight:600}.current-line{font-size:1.125rem;font-weight:600;color:var(--accent-color);margin-bottom:var(--spacing-sm)}.instruction{color:var(--text-secondary);font-size:.875rem}.coin-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:var(--spacing-md);max-width:800px;margin:0 auto}.coin-option{display:flex;flex-direction:column;align-items:center;cursor:pointer;transition:all .3s ease;padding:var(--spacing-sm);border-radius:var(--radius-md);border:2px solid transparent}.coin-option:hover{background:rgba(37,99,235,0.05);border-color:var(--primary-color);transform:translateY(-2px)}.coin{width:45px;height:60px;margin:0 auto var(--spacing-xs);border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;position:relative;transition:all .3s ease;box-shadow:var(--shadow-md);background:var(--surface);border:2px solid var(--border)}.coin-face{position:relative!important;width:100%;height:100%;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-sm)}.yang-coin .coin-face::before{content:'';width:10px;height:50px;background:#1f2937;border-radius:1px}.yin-coin .coin-face{position:relative!important}.yin-coin .coin-face::before{content:'';position:absolute;width:6px;height:50px;background:#1f2937;border-radius:1px;left:calc(50% - 9px);top:50%;transform:translateY(-50%);z-index:1}.yin-coin .coin-face::after{content:'';position:absolute;width:6px;height:50px;background:#1f2937;border-radius:1px;left:calc(50%+3px);top:50%;transform:translateY(-50%);z-index:1}.yang-moving-coin{animation:pulse 1.5s infinite ease-in-out}.yang-moving-coin .coin-face::before{content:'';width:8px;height:50px;background:#1f2937;border-radius:1px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.yang-moving-coin::before{content:'';position:absolute;top:50%;left:50%;width:4px;height:55px;background:var(--accent-color);transform:translate(-50%,-50%) rotate(45deg);border-radius:2px;z-index:10;pointer-events:none}.yin-moving-coin{animation:pulse 1.5s infinite ease-in-out;position:relative!important}.yin-moving-coin .coin-face{position:relative!important}.yin-moving-coin .coin-face::before{content:'';position:absolute;width:6px;height:50px;background:#1f2937;border-radius:1px;left:calc(50% - 9px);top:50%;transform:translateY(-50%);z-index:1}.yin-moving-coin .coin-face::after{content:'';position:absolute;width:6px;height:50px;background:#1f2937;border-radius:1px;left:calc(50%+3px);top:50%;transform:translateY(-50%);z-index:1}.yin-moving-coin::before{content:'';position:absolute;top:50%;left:50%;width:3px;height:55px;background:var(--accent-color);transform:translate(-50%,-50%) rotate(45deg);border-radius:2px;z-index:10;pointer-events:none}.coin-label{font-weight:600;color:var(--text-primary);margin-bottom:2px;font-size:.75rem}.coin-desc{font-size:.65rem;color:var(--text-secondary);text-align:center}.analysis-section{grid-column:1 / -1;background:var(--surface);border-radius:var(--radius-lg);padding:var(--spacing-xl);box-shadow:var(--shadow-md);border:1px solid var(--border-light);margin-top:var(--spacing-xl)}.analysis-header{text-align:center;margin-bottom:var(--spacing-xl);padding-bottom:var(--spacing-lg);border-bottom:2px solid var(--border-light)}.analysis-header h2{color:var(--primary-color);font-family:'Noto Serif KR',serif;font-size:1.875rem;margin-bottom:var(--spacing-md);font-weight:700}.main-hexagram h4{color:var(--accent-color);font-size:1.25rem;margin-bottom:var(--spacing-sm);font-weight:600}.professional-najia-section{background:#f8fafc;border:2px solid var(--primary-color);border-radius:var(--radius-lg);padding:var(--spacing-xl);margin:var(--spacing-xl) 0}.professional-najia-section h4{color:var(--primary-color);text-align:center;margin-bottom:var(--spacing-lg);font-family:'Noto Serif KR',serif;font-size:1.5rem;font-weight:600}.base-info{background:var(--surface);padding:var(--spacing-md);border-radius:var(--radius-md);margin-bottom:var(--spacing-lg);text-align:center;border:1px solid var(--border-light)}.base-info p{margin:var(--spacing-xs) 0;font-size:.875rem;color:var(--text-secondary)}.base-info strong{color:var(--primary-color);font-weight:600}.professional-najia-table{width:100%;border-collapse:collapse;background:var(--surface);border-radius:var(--radius-md);overflow:hidden;box-shadow:var(--shadow-lg)}.professional-najia-table th{background:var(--primary-color)!important;color:white;padding:1rem .75rem;text-align:center;font-weight:600;font-size:.875rem;border:none}.professional-najia-table td{padding:.875rem .75rem;text-align:center;border:1px solid var(--border-light);font-size:.875rem;transition:background-color .2s ease}.professional-najia-table tr:nth-child(even){background:#fafbfc}.professional-najia-table tr:hover td{background:rgba(37,99,235,0.05)}.professional-najia-table tr[data-moving='true']{background:#fef2f2!important;border-left:4px solid var(--accent-color)}.professional-najia-table tr[data-moving='true']:hover td{background:#fecaca!important}.kong-wang-marker{display:inline-block;width:6px;height:6px;background-color:#ef4444;border-radius:50%;margin-left:4px;vertical-align:middle;animation:kong-wang-pulse 2s infinite}@keyframes kong-wang-pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.6;transform:scale(1.2)}}.professional-najia-table tr[data-kong-wang='true']{background:linear-gradient(90deg,#fef2f2 0,transparent 100%)!important;border-right:3px solid #ef4444}.changing-yao-detail{display:flex;flex-direction:column;gap:2px;font-size:.75rem;line-height:1.2}.changing-yao-detail .original-info,.changing-yao-detail .changed-info{display:flex;align-items:center;gap:4px}.changing-yao-detail .original-info{color:#6b7280}.changing-yao-detail .changed-info{color:#f59e0b;font-weight:600}.changing-yao-detail .arrow{text-align:center;color:#8b5cf6;font-weight:bold;font-size:.8rem}.changing-yao-detail .wang-shuai-info{text-align:right;color:var(--text-muted);font-size:.7rem}.professional-najia-table tr[data-moving='true'][data-kong-wang='true']{background:linear-gradient(90deg,#fef2f2 0,#fef3c7 50%,transparent 100%)!important;border-left:4px solid var(--accent-color);border-right:3px solid #ef4444}.professional-najia-table td:nth-child(8){min-width:180px}.yao-position-cell{display:flex;align-items:center;gap:8px;justify-content:center}.yao-position-cell .line-visual{width:20px;height:16px;position:relative;flex-shrink:0}.yao-position-cell .yao-pos-text{font-weight:600;color:var(--text-primary)}.yao-position-cell .kong-wang-marker{margin-left:4px}.hexagram-comparison{display:grid;grid-template-columns:1fr auto 1fr;gap:var(--spacing-lg);align-items:start;margin:var(--spacing-md) 0}.original-hexagram,.changing-hexagram{border:1px solid var(--border-light);border-radius:var(--border-radius);padding:var(--spacing-md);background:var(--background-secondary)}.arrow-divider{display:flex;align-items:center;justify-content:center;font-size:1.5rem;font-weight:bold;color:var(--primary-color);padding:var(--spacing-md) 0}@media(max-width:768px){.main-content{grid-template-columns:1fr}.form-row{grid-template-columns:1fr}.pillar-container{grid-template-columns:repeat(2,1fr);gap:var(--spacing-md)}.coin-grid{grid-template-columns:1fr 1fr;gap:var(--spacing-md)}.coin{width:50px;height:70px}.professional-najia-table{font-size:.75rem}.professional-najia-table th,.professional-najia-table td{padding:.5rem .25rem}.changing-yao-detail{font-size:.7rem}.professional-najia-table td:nth-child(8){min-width:150px}}@media(max-width:480px){.container{padding:var(--spacing-md)}.header h1{font-size:1.75rem}.pillar-container{grid-template-columns:1fr}.coin-grid{grid-template-columns:1fr}.professional-najia-table{font-size:.7rem}.pillar-value{font-size:1.5rem}}.comprehensive-analysis-section{background:linear-gradient(135deg,#f8fafc 0,#e2e8f0 100%);border:2px solid var(--primary-color);border-radius:var(--radius-lg);padding:var(--spacing-xl);margin:var(--spacing-xl) 0}.comprehensive-analysis-section h3{color:var(--primary-color);text-align:center;margin-bottom:var(--spacing-xl);font-family:'Noto Serif KR',serif;font-size:1.75rem;font-weight:700}.analysis-steps{display:grid;grid-template-columns:1fr;gap:var(--spacing-lg)}.analysis-step{background:var(--surface);border-radius:var(--radius-lg);padding:var(--spacing-lg);box-shadow:var(--shadow-md);border:1px solid var(--border-light);transition:all .3s ease}.analysis-step:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg);border-color:var(--primary-color)}.analysis-step h4{color:var(--primary-color);margin-bottom:var(--spacing-md);font-family:'Noto Serif KR',serif;font-weight:600;font-size:1.125rem;border-bottom:2px solid var(--border-light);padding-bottom:var(--spacing-sm)}.step-content{color:var(--text-primary);line-height:1.6}.complete-hexagram-display{border:2px solid var(--primary-color);border-radius:var(--radius-md);padding:var(--spacing-lg);background:#fafbfc}.complete-hexagram-display h5{color:var(--primary-color);margin-bottom:var(--spacing-md);text-align:center}.hexagram-numbers-grid{display:flex;flex-direction:column;gap:var(--spacing-sm)}.hexagram-line-display{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-sm);background:var(--surface);border-radius:var(--radius-sm);border:1px solid var(--border)}.hexagram-line-display.moving{background:#fef2f2;border-color:var(--accent-color);animation:pulse 1.5s infinite ease-in-out}.line-label{width:60px;font-weight:600;color:var(--primary-color);text-align:right;font-size:.875rem}.line-visual{width:30px;height:25px;position:relative;display:flex;align-items:center;justify-content:center}.line-number-badge{background:var(--primary-color);color:white;padding:.25rem .5rem;border-radius:var(--radius-sm);font-weight:700;font-size:1.3rem;min-width:40px;text-align:center}.line-number-badge.moving{background:var(--accent-color);animation:glow 1.5s infinite ease-in-out}.line-binary{font-family:'Courier New',monospace;font-weight:700;font-size:1.1rem;color:var(--text-secondary)}.line-description{flex:1;font-size:.875rem;color:var(--text-secondary)}.yang-visual::before{content:'';position:absolute;width:8px;height:25px;background:#1f2937;border-radius:2px}.yin-visual::before{content:'';position:absolute;width:8px;height:10px;background:#1f2937;border-radius:2px;top:3px}.yin-visual::after{content:'';position:absolute;width:8px;height:10px;background:#1f2937;border-radius:2px;bottom:3px}.yang-moving-visual{position:relative}.yang-moving-visual::before{content:'';position:absolute;width:8px;height:25px;background:#1f2937;border-radius:2px}.yang-moving-visual::after{content:'';position:absolute;width:4px;height:30px;background:var(--accent-color);transform:rotate(45deg);border-radius:2px}.yin-moving-visual{position:relative}.yin-moving-visual::before{content:'';position:absolute;width:8px;height:10px;background:#1f2937;border-radius:2px;top:3px;box-shadow:0 15px 0 0 #1f2937}.yin-moving-visual::after{content:'';position:absolute;width:4px;height:30px;background:var(--accent-color);transform:rotate(45deg);border-radius:2px}.najia-summary{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--spacing-md);background:#eff6ff;padding:var(--spacing-lg);border-radius:var(--radius-md)}.world-line-info,.moving-lines-info,.strength-summary{background:var(--surface);padding:var(--spacing-md);border-radius:var(--radius-sm);border:1px solid var(--border)}.world-line-info h6,.moving-lines-info h6,.strength-summary h6{color:var(--primary-color);margin-bottom:var(--spacing-sm);font-weight:600}.moving-line-item{background:#fef2f2;padding:var(--spacing-sm);border-radius:var(--radius-sm);border-left:4px solid var(--accent-color);margin-bottom:var(--spacing-xs);font-size:.875rem}.line-positions-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--spacing-md)}.line-position-analysis{background:var(--surface);padding:var(--spacing-md);border-radius:var(--radius-md);border:1px solid var(--border);transition:all .3s ease}.line-position-analysis.moving-line{border-color:var(--accent-color);background:#fef2f2;animation:pulse 1.5s infinite ease-in-out}.line-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--spacing-sm);gap:var(--spacing-sm)}.line-header .coin{width:30px;height:40px;margin:0;flex-shrink:0}.line-header .coin-face{width:100%;height:100%}.line-header .mini-coin .coin-face::before,.line-header .mini-coin .coin-face::after{height:35px!important}.position-name{font-weight:600;color:var(--primary-color)}.line-number-large{background:var(--primary-color);color:white;padding:.25rem .5rem;border-radius:var(--radius-sm);font-weight:700;font-size:1.8rem}.moving-badge{background:var(--accent-color);color:white;padding:.25rem .5rem;border-radius:var(--radius-sm);font-size:.75rem;font-weight:600;animation:pulse 1.5s infinite ease-in-out}.static-badge{background:var(--text-secondary);color:white;padding:.25rem .5rem;border-radius:var(--radius-sm);font-size:.75rem;font-weight:600}.transformation-display{display:grid;grid-template-columns:1fr auto 1fr;gap:var(--spacing-lg);align-items:center;padding:var(--spacing-lg);background:#f8fafc;border-radius:var(--radius-md);border:1px solid var(--border)}.original-hexagram,.changing-hexagram{text-align:center;padding:var(--spacing-md);background:var(--surface);border-radius:var(--radius-sm);border:1px solid var(--border)}.original-hexagram h6,.changing-hexagram h6{color:var(--primary-color);margin-bottom:var(--spacing-sm);font-weight:600}.arrow{font-size:1.5rem;color:var(--accent-color);font-weight:700}.world-response-analysis{background:#eff6ff;padding:var(--spacing-lg);border-radius:var(--radius-md);display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--spacing-md)}.world-line,.response-line{background:var(--surface);padding:var(--spacing-md);border-radius:var(--radius-sm);border:1px solid var(--border)}.world-line h6,.response-line h6{color:var(--primary-color);margin-bottom:var(--spacing-sm);font-weight:600}.relation-analysis{grid-column:1 / -1;background:#f0fdf4;padding:var(--spacing-md);border-radius:var(--radius-sm);border-left:4px solid var(--success-color)}.timing-prediction{background:#fffbeb;padding:var(--spacing-lg);border-radius:var(--radius-md);border-left:4px solid var(--warning-color)}.timing-prediction h6{color:var(--warning-color);margin-bottom:var(--spacing-sm);font-weight:600}.detailed-timing{margin-top:var(--spacing-md);padding:var(--spacing-md);background:var(--surface);border-radius:var(--radius-sm);border:1px solid var(--border)}.judgment-checklist ul{list-style-type:none;padding:0}.judgment-checklist li{padding:var(--spacing-sm);margin-bottom:var(--spacing-xs);background:#f0fdf4;border-left:4px solid var(--success-color);border-radius:var(--radius-sm)}.final-judgment{background:var(--surface);padding:var(--spacing-lg);border-radius:var(--radius-md);border:2px solid var(--primary-color);text-align:center;margin-top:var(--spacing-md)}.judgment-level{padding:.5rem 1rem;border-radius:var(--radius-md);font-weight:700;font-size:1.125rem}.judgment-level.대길{background:var(--success-color);color:white}.judgment-level.길{background:#06b6d4;color:white}.judgment-level.평{background:var(--primary-color);color:white}.judgment-level.흉{background:var(--warning-color);color:white}.judgment-level.대흉{background:var(--accent-color);color:white}.final-advice{background:#eff6ff;padding:var(--spacing-lg);border-radius:var(--radius-md);border:2px solid var(--primary-color)}.final-advice h6{color:var(--primary-color);margin-bottom:var(--spacing-md);font-weight:600;font-size:1.125rem}.advice-sections{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--spacing-md)}.situation-diagnosis,.positive-advice,.negative-advice,.timing-advice,.najia-specific-advice{background:var(--surface);padding:var(--spacing-md);border-radius:var(--radius-sm);border:1px solid var(--border)}.positive-advice{border-left:4px solid var(--success-color)}.negative-advice{background:#fef2f2;border-left:4px solid var(--accent-color)}.timing-advice{background:#fffbeb;border-left:4px solid var(--warning-color)}.najia-specific-advice{background:#f0fdf4;border-left:4px solid var(--success-color)}.advice-sections h6{color:var(--primary-color);margin-bottom:var(--spacing-sm);font-weight:600}.spirit-analysis,.hidden-void-analysis{background:#eff6ff;padding:var(--spacing-lg);border-radius:var(--radius-md)}.spirit-presence,.hidden-spirits,.void-calculation{background:var(--surface);padding:var(--spacing-md);border-radius:var(--radius-sm);border:1px solid var(--border);margin-bottom:var(--spacing-md)}.strength-analysis,.moving-strength-analysis{background:var(--surface);padding:var(--spacing-md);border-radius:var(--radius-sm);border:1px solid var(--border);margin-bottom:var(--spacing-md)}.moving-effect,.change-analysis{background:#f8fafc;padding:var(--spacing-md);border-radius:var(--radius-sm);border:1px solid var(--border);margin-bottom:var(--spacing-md)}@keyframes glow{0%,100%{box-shadow:0 0 5px var(--accent-color)}50%{box-shadow:0 0 15px var(--accent-color)}}.special-hexagram-analysis{background:linear-gradient(135deg,#f0f9ff 0,#e0f2fe 100%);border:2px solid var(--primary-color);border-radius:var(--radius-lg);padding:var(--spacing-lg);margin:var(--spacing-lg) 0}.special-hexagram-analysis h5{color:var(--primary-color);text-align:center;margin-bottom:var(--spacing-lg);font-family:'Noto Serif KR',serif;font-size:1.25rem;font-weight:700}.special-hexagram-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:var(--spacing-lg)}.original-special,.changing-special{background:var(--surface);border-radius:var(--radius-md);padding:var(--spacing-md);border:1px solid var(--border);box-shadow:var(--shadow-sm)}.original-special h6,.changing-special h6{color:var(--primary-color);margin-bottom:var(--spacing-sm);font-weight:600;border-bottom:2px solid var(--border-light);padding-bottom:var(--spacing-xs)}.kong-wang-analysis{background:linear-gradient(135deg,#fef2f2 0,#fee2e2 100%);border:2px solid #ef4444;border-radius:var(--radius-lg);padding:var(--spacing-lg);margin:var(--spacing-lg) 0}.kong-wang-analysis h5{color:#ef4444;text-align:center;margin-bottom:var(--spacing-lg);font-family:'Noto Serif KR',serif;font-size:1.25rem;font-weight:700}.kong-wang-info,.kong-wang-summary{background:var(--surface);border-radius:var(--radius-md);padding:var(--spacing-md);border:1px solid var(--border);margin-bottom:var(--spacing-md)}.kong-wang-details{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--spacing-md)}.kong-wang-yao{background:#fef2f2;border:1px solid #fecaca;border-radius:var(--radius-sm);padding:var(--spacing-sm);display:flex;align-items:center;gap:var(--spacing-sm);flex-wrap:wrap}.kong-wang-branch,.kong-wang-kin,.yao-position{padding:.25rem .5rem;border-radius:var(--radius-xs);font-weight:600;font-size:.875rem}.kong-wang-branch{background:#dc2626;color:white}.kong-wang-kin{background:#f87171;color:white}.kong-wang-meaning{width:100%;margin-top:var(--spacing-xs);font-size:.875rem;color:var(--text-secondary);font-style:italic}.no-kong-wang{text-align:center;color:var(--text-secondary);font-style:italic;background:#f8fafc;padding:var(--spacing-md);border-radius:var(--radius-sm);border:1px dashed var(--border)}.fu-shen-analysis{background:linear-gradient(135deg,#f0f9ff 0,#dbeafe 100%);border:2px solid #3b82f6;border-radius:var(--radius-lg);padding:var(--spacing-lg);margin:var(--spacing-lg) 0}.fu-shen-analysis h5{color:#3b82f6;text-align:center;margin-bottom:var(--spacing-lg);font-family:'Noto Serif KR',serif;font-size:1.25rem;font-weight:700}.fu-shen-info,.fu-shen-summary{background:var(--surface);border-radius:var(--radius-md);padding:var(--spacing-md);border:1px solid var(--border);margin-bottom:var(--spacing-md)}.fu-shen-details{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:var(--spacing-md)}.fu-shen-item{background:#f0f9ff;border:1px solid #bfdbfe;border-radius:var(--radius-sm);padding:var(--spacing-md)}.fu-shen-branch,.fu-shen-kin{display:inline-block;padding:.25rem .75rem;border-radius:var(--radius-sm);font-weight:600;font-size:.875rem;margin:0 var(--spacing-xs) var(--spacing-sm) 0}.fu-shen-branch{background:#3b82f6;color:white}.fu-shen-kin{background:#60a5fa;color:white}.fu-shen-meaning,.fu-shen-action{font-size:.875rem;margin:var(--spacing-xs) 0}.fu-shen-meaning{color:var(--text-primary);font-weight:500}.fu-shen-action{color:var(--text-secondary);font-style:italic}.no-fu-shen{text-align:center;color:var(--text-secondary);font-style:italic;background:#f8fafc;padding:var(--spacing-md);border-radius:var(--radius-sm);border:1px dashed var(--border)}.changing-yao-detailed-analysis{background:linear-gradient(135deg,#fefce8 0,#fef3c7 100%);border:2px solid #f59e0b;border-radius:var(--radius-lg);padding:var(--spacing-lg);margin:var(--spacing-lg) 0}.changing-yao-detailed-analysis h5{color:#f59e0b;text-align:center;margin-bottom:var(--spacing-lg);font-family:'Noto Serif KR',serif;font-size:1.25rem;font-weight:700}.changing-yao-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:var(--spacing-lg)}.changing-yao-item{background:var(--surface);border-radius:var(--radius-md);padding:var(--spacing-md);border:1px solid var(--border);box-shadow:var(--shadow-sm)}.yao-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-md);padding-bottom:var(--spacing-sm);border-bottom:2px solid var(--border-light)}.yao-header h6{color:#f59e0b;margin:0;font-weight:600}.change-nature{background:#f59e0b;color:white;padding:.25rem .75rem;border-radius:var(--radius-sm);font-size:.875rem;font-weight:600}.yao-transformation{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--spacing-md);padding:var(--spacing-sm);background:#fefce8;border-radius:var(--radius-sm)}.original-state,.changed-state{display:flex;flex-direction:column;align-items:center;flex:1}.original-state .label,.changed-state .label{font-size:.75rem;color:var(--text-muted);font-weight:600;margin-bottom:var(--spacing-xs)}.original-state .branch,.changed-state .branch,.original-state .kin,.changed-state .kin{display:inline-block;padding:.25rem .5rem;border-radius:var(--radius-xs);font-weight:600;font-size:.875rem;margin:2px}.original-state .branch,.changed-state .branch{background:#d97706;color:white}.original-state .kin,.changed-state .kin{background:#fbbf24;color:white}.yao-transformation .arrow{font-size:1.5rem;color:#f59e0b;font-weight:bold;margin:0 var(--spacing-md)}.change-meaning{font-size:.875rem;color:var(--text-secondary);font-style:italic;background:#f8fafc;padding:var(--spacing-sm);border-radius:var(--radius-sm);border-left:4px solid #f59e0b}.fu-shen-branch-badge,.kong-wang-branch-badge{display:inline-block;padding:.25rem .5rem;border-radius:var(--radius-sm);font-weight:600;font-size:.875rem;color:white;margin:0 var(--spacing-xs)}.fu-shen-branch-badge{background:#3b82f6}.kong-wang-branch-badge{background:#ef4444}.fu-shen-kin-badge,.kong-wang-kin-badge{display:inline-block;padding:.25rem .5rem;border-radius:var(--radius-sm);font-weight:600;font-size:.875rem;color:white;margin:0 var(--spacing-xs)}.fu-shen-kin-badge{background:#60a5fa}.kong-wang-kin-badge{background:#f87171}.critical-void{background:#fef2f2;color:#dc2626;padding:var(--spacing-sm);border-radius:var(--radius-sm);border:1px solid #fecaca;margin:var(--spacing-sm) 0;font-weight:600}.world-void,.response-void{color:#dc2626;font-weight:600;font-size:.875rem}.overall-relation{background:#f0f9ff;padding:var(--spacing-md);border-radius:var(--radius-sm);border:1px solid #bfdbfe;margin-top:var(--spacing-md);font-weight:600;text-align:center}@media(max-width:768px){.kong-wang-details,.fu-shen-details,.changing-yao-grid{grid-template-columns:1fr}.yao-transformation{flex-direction:column;gap:var(--spacing-sm)}.yao-transformation .arrow{transform:rotate(90deg);margin:var(--spacing-sm) 0}}.hexagram-transformation-analysis{background:linear-gradient(135deg,#f0f4ff 0,#e0e7ff 100%);border:2px solid var(--primary-color);border-radius:var(--radius-lg);padding:var(--spacing-lg);margin:var(--spacing-lg) 0}.hexagram-comparison{display:grid;grid-template-columns:1fr auto 1fr;gap:var(--spacing-lg);align-items:center;margin-bottom:var(--spacing-lg)}.original-hexagram-section,.changing-hexagram-section{background:var(--surface);border-radius:var(--radius-md);padding:var(--spacing-md);border:1px solid var(--border);box-shadow:var(--shadow-sm)}.original-hexagram-section h6,.changing-hexagram-section h6{color:var(--primary-color);text-align:center;margin-bottom:var(--spacing-md);font-weight:600;border-bottom:2px solid var(--border-light);padding-bottom:var(--spacing-xs)}.coin-hexagram{display:flex;flex-direction:column;align-items:center;background:#f8fafc;border:2px solid var(--border);border-radius:var(--radius-sm);padding:var(--spacing-md);margin-bottom:var(--spacing-md)}.coin-line{display:flex;align-items:center;justify-content:space-between;width:100%;padding:var(--spacing-xs) var(--spacing-sm);margin:2px 0;background:white;border-radius:var(--radius-xs);border:1px solid var(--border-light);transition:all .3s ease}.coin-line:hover{background:var(--background);transform:translateY(-1px);box-shadow:var(--shadow-sm)}.coin-line .coin{width:30px;height:40px;margin:0}.coin-line .coin-face{width:100%;height:100%}.coin-symbol{font-size:1.5rem;width:30px;text-align:center}.coin-symbol.moving{animation:pulse 2s infinite;filter:drop-shadow(0 0 5px rgba(59,130,246,0.5))}.coin-symbol.static{opacity:.7}.coin-label{font-size:.875rem;color:var(--text-secondary);min-width:60px;text-align:center}.line-position{font-size:.75rem;color:var(--text-muted);font-weight:600;min-width:30px;text-align:right}.mini-coin{width:30px!important;height:40px!important;margin:0!important;box-shadow:var(--shadow-sm)!important;flex-shrink:0}.mini-coin .coin-face{border-radius:var(--radius-xs)}.mini-coin .coin-face::before,.mini-coin .coin-face::after{height:35px!important}.mini-coin.yang-coin .coin-face::before{width:8px!important;height:35px!important}.mini-coin.yin-coin .coin-face::before{width:5px!important;height:35px!important;left:calc(50% - 7px)!important}.mini-coin.yin-coin .coin-face::after{width:5px!important;height:35px!important;left:calc(50%+2px)!important}.mini-coin.yang-moving-coin .coin-face::before{width:6px!important;height:35px!important}.mini-coin.yang-moving-coin::before{width:3px!important;height:38px!important}.mini-coin.yin-moving-coin .coin-face::before{width:5px!important;height:35px!important;left:calc(50% - 7px)!important}.mini-coin.yin-moving-coin .coin-face::after{width:5px!important;height:35px!important;left:calc(50%+2px)!important}.mini-coin.yin-moving-coin::before{width:2.5px!important;height:38px!important}.transformation-arrow{display:flex;justify-content:center;align-items:center}.arrow-container{display:flex;flex-direction:column;align-items:center;background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:white;padding:var(--spacing-md);border-radius:50%;width:80px;height:80px;justify-content:center;box-shadow:var(--shadow-lg);animation:breathe 3s ease-in-out infinite}.arrow-symbol{font-size:1.5rem;font-weight:bold}.arrow-label{font-size:.75rem;margin-top:2px}@keyframes breathe{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes pulse{0%,100%{opacity:1}50%{opacity:.6}}.hexagram-details{font-size:.875rem}.hexagram-details p{margin:var(--spacing-xs) 0;padding:var(--spacing-xs);background:#f8fafc;border-radius:var(--radius-xs);border-left:3px solid var(--primary-color)}.transformation-analysis{background:var(--surface);border-radius:var(--radius-md);padding:var(--spacing-md);border:1px solid var(--border);box-shadow:var(--shadow-sm)}.transformation-analysis h6{color:var(--primary-color);margin-bottom:var(--spacing-md);font-weight:600;border-bottom:2px solid var(--border-light);padding-bottom:var(--spacing-xs)}.pattern-analysis p{margin:var(--spacing-sm) 0;padding:var(--spacing-sm);background:#f8fafc;border-radius:var(--radius-sm);border-left:4px solid var(--accent-color)}@media(max-width:768px){.hexagram-comparison{grid-template-columns:1fr;gap:var(--spacing-md)}.transformation-arrow{transform:rotate(90deg)}.arrow-container{width:60px;height:60px}.arrow-symbol{font-size:1.2rem}}.gua-shen-analysis{background:linear-gradient(135deg,#fefce8 0,#fef3c7 100%);border:2px solid #f59e0b;border-radius:var(--radius-lg);padding:var(--spacing-lg);margin:var(--spacing-lg) 0}.gua-shen-analysis h5{color:#f59e0b;text-align:center;margin-bottom:var(--spacing-lg);font-family:'Noto Serif KR',serif;font-size:1.25rem;font-weight:700}.gua-shen-info{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:var(--spacing-lg)}.gua-shen-basic{background:var(--surface);border-radius:var(--radius-md);padding:var(--spacing-md);border:1px solid var(--border);box-shadow:var(--shadow-sm)}.gua-shen-meaning{background:var(--surface);border-radius:var(--radius-md);padding:var(--spacing-md);border:1px solid var(--border);box-shadow:var(--shadow-sm)}.gua-shen-meaning h6{color:#f59e0b;margin-bottom:var(--spacing-sm);font-weight:600;border-bottom:2px solid var(--border-light);padding-bottom:var(--spacing-xs)}.gua-shen-symbol{font-size:1rem;color:var(--text-primary);background:#fefce8;padding:var(--spacing-sm);border-radius:var(--radius-sm);border-left:4px solid #f59e0b;margin-bottom:var(--spacing-md)}.gua-shen-effect{font-size:.875rem;color:var(--text-secondary);font-style:italic;background:#f8fafc;padding:var(--spacing-sm);border-radius:var(--radius-sm);border-left:4px solid var(--primary-color)}.six-kin-badge{display:inline-block;padding:.25rem .75rem;border-radius:var(--radius-sm);font-weight:600;font-size:.875rem;color:white;margin-left:var(--spacing-xs)}.six-kin-badge.妻財{background:linear-gradient(135deg,#10b981 0,#059669 100%)}.six-kin-badge.官鬼{background:linear-gradient(135deg,#dc2626 0,#b91c1c 100%)}.six-kin-badge.父母{background:linear-gradient(135deg,#3b82f6 0,#2563eb 100%)}.six-kin-badge.兄弟{background:linear-gradient(135deg,#f59e0b 0,#d97706 100%)}.six-kin-badge.子孫{background:linear-gradient(135deg,#8b5cf6 0,#7c3aed 100%)}.wang-shuai-badge{display:inline-block;padding:.25rem .75rem;border-radius:var(--radius-sm);font-weight:600;font-size:.875rem;color:white;margin-left:var(--spacing-xs)}.wang-shuai-badge.旺{background:linear-gradient(135deg,#dc2626 0,#b91c1c 100%)}.wang-shuai-badge.相{background:linear-gradient(135deg,#f59e0b 0,#d97706 100%)}.wang-shuai-badge.休{background:linear-gradient(135deg,#6b7280 0,#4b5563 100%)}.wang-shuai-badge.囚{background:linear-gradient(135deg,#374151 0,#1f2937 100%)}.wang-shuai-badge.死{background:linear-gradient(135deg,#111827 0,#030712 100%)}.no-gua-shen{text-align:center;color:var(--text-secondary);font-style:italic;background:#f8fafc;padding:var(--spacing-md);border-radius:var(--radius-sm);border:1px dashed var(--border)}.trigram-stack{display:inline-flex;flex-direction:column;align-items:center;background:#f8fafc;border:2px solid var(--primary-color);border-radius:var(--radius-sm);padding:var(--spacing-sm);margin:var(--spacing-xs);font-family:'Noto Sans KR',sans-serif}.upper-trigram,.lower-trigram{display:flex;align-items:center;gap:var(--spacing-xs);font-size:1.2rem;font-weight:600;padding:2px 6px}.upper-trigram{color:var(--primary-color);border-bottom:1px solid var(--border-light);margin-bottom:2px}.lower-trigram{color:var(--secondary-color);margin-top:2px}.trigram-name{font-size:.875rem;margin-left:var(--spacing-xs);color:var(--text-secondary)}.special-type-badge{display:inline-block;padding:.25rem .75rem;border-radius:var(--radius-sm);font-weight:600;font-size:.875rem;color:white;margin-left:var(--spacing-xs)}.special-type-badge.육충괘{background:linear-gradient(135deg,#ef4444 0,#dc2626 100%)}.special-type-badge.육합괘{background:linear-gradient(135deg,#10b981 0,#059669 100%)}.special-type-badge.귀혼괘{background:linear-gradient(135deg,#3b82f6 0,#2563eb 100%)}.special-type-badge.유혼괘{background:linear-gradient(135deg,#8b5cf6 0,#7c3aed 100%)}.special-meaning{font-size:.875rem;color:var(--text-secondary);font-style:italic;margin-top:var(--spacing-sm);padding:var(--spacing-sm);background:#f8fafc;border-radius:var(--radius-sm);border-left:4px solid var(--primary-color)}