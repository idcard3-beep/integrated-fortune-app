:root {--bg:#f8fafc;--card:#ffffff;--ink:#0b1220;--muted:#6b7280;--line:#dbeafe;--brand:#06b6d4;}html, body {margin:0;background:var(--bg);color:var(--ink);font-family:system-ui, -apple-system, Segoe UI, Roboto, Pretendard, Malgun Gothic, sans-serif;}.container {max-width:1280px;margin:0 auto;padding:16px 18px 64px;}.topbar {position:sticky;top:0;z-index:60;background:var(--bg);border-bottom:1px solid var(--line);}.topbar-inner {display:flex;gap:8px;flex-wrap:wrap;align-items:center;justify-content:space-between;padding:10px 18px;}.brand {display:flex;gap:10px;align-items:center;font-weight:800;}.controls {display:flex;gap:8px;flex-wrap:wrap;align-items:center;}input[type='search'] {flex:1;min-width:240px;padding:10px 12px;border-radius:10px;border:1px solid var(--line);background:var(--card);color:var(--ink);}button, select {padding:8px 12px;border-radius:10px;border:1px solid var(--line);background:var(--card);color:var(--ink);cursor:pointer;}.badge {font-size:12px;background:#1f2440;color:#a78bfa;border:1px solid #a78bfa;padding:2px 8px;border-radius:999px;}.card {background:var(--card);border:1px solid var(--line);border-radius:14px;padding:14px;margin:12px 0;box-shadow:0 2px 6px rgba(0, 0, 0, 0.08);}.note {color:var(--muted);font-size:12px;}.grid {display:grid;gap:12px;}@media (min-width:980px) {.cols-2 {grid-template-columns:1fr;}.cols-3 {grid-template-columns:1fr;}.cols-4 {grid-template-columns:1fr;}}.cols-2, .cols-3, .cols-4 {grid-template-columns:1fr !important;}#detailGrid.cols-2 {grid-template-columns:1fr 1fr !important;}#detailGrid .card {padding:8px 10px !important;margin:4px 0 !important;font-size:14px !important;line-height:1.3 !important;}#detailGrid .card h3 {font-size:18px !important;margin-bottom:6px !important;}#detailGrid .card .h2mini {font-size:15px !important;margin:8px 0 4px 0 !important;}#detailGrid .card ol {margin:4px 0 0 16px !important;font-size:13px !important;line-height:1.4 !important;}#detailGrid .card ol li {margin-bottom:2px !important;}#detailGrid .card .pill {font-size:11px !important;padding:1px 6px !important;}#detailGrid .card .lineform {padding:4px !important;margin:2px 0 !important;font-size:12px !important;}#detailGrid .card input {font-size:12px !important;padding:3px 6px !important;}#detailGrid .card .note {font-size:12px !important;}#detailGrid .card .sep {margin:6px 0 !important;}.hex {font-family:'Segoe UI Symbol', 'Noto Sans Symbols2', 'Apple Symbols', sans-serif;}.nav64 .cell {display:flex;flex-direction:column;gap:6px;cursor:pointer;border:1px solid var(--line);border-radius:10px;padding:10px;background:linear-gradient( 135deg, rgba(255, 255, 255, 0.03), transparent );position:relative;}.nav64 .cell:hover {outline:1px solid var(--brand);}.stage-badge {position:absolute;right:8px;top:8px;font-size:11px;border:1px solid var(--line);background:var(--card);border-radius:999px;padding:1px 6px;}.pill {display:inline-block;padding:2px 8px;border:1px solid var(--line);border-radius:999px;font-size:12px;margin:2px 6px 2px 0;background:var(--card);}.kbd {border:1px solid var(--line);padding:2px 6px;border-radius:6px;background:var(--card);font-size:12px;}.sep {height:1px;background:var(--line);margin:10px 0;}.h2mini {margin:0 0 8px 0;font-size:16px;}.lineform {display:grid;grid-template-columns:64px 1fr 1fr 1fr;gap:6px;align-items:center;margin:6px 0;}.lineform input {width:100%;padding:6px 8px;border:1px solid var(--line);border-radius:8px;background:var(--card);color:var(--ink);}.table-wrap {overflow:auto;border:1px solid var(--line);border-radius:12px;background:var(--card);}table {width:100%;border-collapse:collapse;min-width:800px;}th, td {padding:8px 10px;border-bottom:1px solid var(--line);text-align:left;font-size:14px;}th {background:#121b30;position:sticky;top:0;}.modal {position:fixed !important;top:0 !important;left:0 !important;right:0 !important;bottom:0 !important;width:100vw !important;height:100vh !important;background:rgba(0, 0, 0, 0.5) !important;display:none !important;align-items:center !important;justify-content:center !important;z-index:99999 !important;margin:0 !important;padding:0 !important;}.modal.show {display:flex !important;}.modal .panel {background:white !important;border:1px solid #ddd !important;border-radius:14px;padding:16px;max-width:900px;width:92%;position:relative !important;z-index:100000 !important;box-shadow:0 10px 30px rgba(0, 0, 0, 0.3) !important;color:#333 !important;max-height:90vh;overflow-y:auto;}#adminLoginModal {align-items:flex-start !important;padding-top:20px !important;}#adminLoginModal .panel {max-width:500px;margin-top:0 !important;margin-bottom:auto !important;overflow:hidden;}#adminLoginModal .panel h3 {margin:0 !important;padding:0 !important;line-height:1.2 !important;height:auto !important;}#adminLoginModal .panel iframe {height:500px !important;}#adminLoginModal .panel iframe {overflow:hidden;}.modal textarea {width:100%;min-height:160px;border:1px solid #ddd !important;border-radius:10px;background:#f9f9f9 !important;color:#333 !important;padding:10px;}.tip {border-left:3px solid var(--line);padding-left:10px;}* {box-sizing:border-box;}.header {position:sticky;top:0;z-index:100;}.container:not(.single-line-layout) {display:flex !important;flex-direction:column !important;gap:20px !important;padding:20px !important;max-width:1280px !important;margin:0 auto !important;width:100% !important;height:auto !important;grid-template-columns:none !important;grid-template-rows:none !important;}.card {display:block !important;width:100% !important;background:var(--card);border:1px solid var(--line);border-radius:12px;padding:16px;margin-bottom:16px !important;box-shadow:0 2px 6px rgba(0, 0, 0, 0.08);position:relative !important;float:none !important;clear:both !important;flex:none !important;grid-column:unset !important;grid-row:unset !important;}.card h2 {margin:0 0 16px 0;padding:0;font-size:18px;font-weight:600;color:var(--ink);border-bottom:1px solid var(--line);padding-bottom:8px;}.list {flex:1 1 auto;overflow:auto;}.tabs {position:sticky;top:0;z-index:5;flex-shrink:0;}.panel {flex:1 1 auto;overflow:auto;padding-bottom:8px;}.footer {flex-shrink:0;}textarea {resize:vertical;max-height:50vh;}@media (max-width:1200px) {.container {display:flex !important;flex-direction:column !important;padding:16px !important;width:100% !important;height:auto !important;grid-template-columns:none !important;}.card {width:100% !important;margin-bottom:12px !important;display:block !important;float:none !important;position:relative !important;}}.container > .card {display:block !important;width:100% !important;margin:0 0 20px 0 !important;float:none !important;position:relative !important;}div.container {display:flex !important;flex-direction:column !important;align-items:stretch !important;justify-content:flex-start !important;width:100% !important;max-width:1280px !important;margin:0 auto !important;padding:20px !important;gap:25px !important;}section.card {display:block !important;width:100% !important;margin:0 !important;padding:20px !important;background:var(--card) !important;border:1px solid var(--line) !important;border-radius:12px !important;box-shadow:0 2px 8px rgba(0, 0, 0, 0.1) !important;position:relative !important;float:none !important;clear:both !important;overflow:visible !important;}section#sec-pal-chart {order:1 !important;}section#sec-najap {order:2 !important;}section.card:nth-of-type(3) {order:3 !important;}section.card:nth-of-type(4) {order:4 !important;}.pal-chart-grid {display:grid !important;grid-template-columns:repeat(4, 1fr) !important;grid-template-rows:repeat(2, 1fr) !important;gap:8px !important;padding:8px !important;width:100% !important;max-width:100% !important;}.pal-chart-grid .palace-group {background:linear-gradient( 145deg, var(--card), rgba(255, 255, 255, 0.05) ) !important;border:1px solid var(--line) !important;border-radius:10px !important;padding:8px !important;font-size:11px !important;text-align:center !important;box-shadow:0 2px 4px rgba(0, 0, 0, 0.08) !important;transition:transform 0.2s ease !important;}.pal-chart-grid .palace-group:hover {transform:translateY(-1px) !important;box-shadow:0 4px 8px rgba(0, 0, 0, 0.12) !important;}.palace-group .palace-title {font-weight:bold !important;font-size:13px !important;margin-bottom:6px !important;color:var(--brand) !important;border-bottom:2px solid var(--brand) !important;padding-bottom:3px !important;background:linear-gradient( 90deg, transparent, rgba(255, 255, 255, 0.1), transparent ) !important;border-radius:3px !important;}.palace-group .gua-grid {display:grid !important;grid-template-columns:repeat(2, 1fr) !important;grid-template-rows:repeat(4, 1fr) !important;gap:3px !important;margin-top:8px !important;padding:4px !important;width:100% !important;grid-auto-flow:row !important;}.palace-group .gua-item {background:linear-gradient( 135deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.05) ) !important;border:1px solid rgba(255, 255, 255, 0.25) !important;border-radius:4px !important;padding:6px 3px !important;font-size:14px !important;line-height:1.2 !important;cursor:pointer !important;transition:all 0.2s ease !important;text-align:center !important;min-height:24px !important;display:flex !important;flex-direction:column !important;justify-content:center !important;box-shadow:0 1px 2px rgba(0, 0, 0, 0.1) !important;flex:1 !important;}.palace-group .gua-item:hover {background:var(--brand) !important;color:white !important;transform:scale(1.05) !important;}.palace-group .gua-item .gua-num {font-weight:bold !important;display:block !important;font-size:15px !important;margin-bottom:2px !important;}.palace-group .gua-item .gua-name {font-size:10px !important;opacity:0.9 !important;font-weight:normal !important;white-space:nowrap !important;overflow:hidden !important;text-overflow:ellipsis !important;}.palace-group .gua-item .gua-stage {font-size:8px !important;opacity:0.8 !important;color:var(--brand) !important;margin-top:1px !important;}@media (max-width:768px) {.pal-chart-grid {grid-template-columns:repeat(2, 1fr) !important;grid-template-rows:repeat(4, 1fr) !important;}.nav-chart-grid {grid-template-columns:repeat(2, 1fr) !important;grid-template-rows:repeat(4, 1fr) !important;}@media (max-width:768px) {.container.single-line-layout {flex-direction:column !important;height:auto !important;}.container.single-line-layout .left-panel {flex:none !important;height:200px !important;margin-bottom:15px !important;}.container.single-line-layout .right-panel {flex:none !important;height:700px !important;}}.compact-list {display:grid !important;grid-template-columns:repeat(4, 1fr) !important;gap:4px !important;max-height:220px !important;}.compact-list .item {padding:4px 6px !important;font-size:14px !important;font-weight:normal !important;text-align:center !important;border-radius:4px !important;border:1px solid rgba(255, 255, 255, 0.2) !important;}}.nav-chart-grid {display:grid !important;grid-template-columns:repeat(4, 1fr) !important;grid-template-rows:repeat(2, 1fr) !important;gap:8px !important;padding:8px !important;width:100% !important;max-width:100% !important;}.nav-chart-grid .palace-group {background:linear-gradient( 145deg, var(--card), rgba(255, 255, 255, 0.05) ) !important;border:1px solid var(--line) !important;border-radius:10px !important;padding:8px !important;font-size:11px !important;text-align:center !important;box-shadow:0 2px 4px rgba(0, 0, 0, 0.08) !important;transition:transform 0.2s ease !important;}.nav-chart-grid .palace-group:hover {transform:translateY(-1px) !important;box-shadow:0 4px 8px rgba(0, 0, 0, 0.12) !important;}.nav-chart-grid .palace-title {font-weight:bold !important;font-size:13px !important;margin-bottom:6px !important;color:var(--brand) !important;border-bottom:2px solid var(--brand) !important;padding-bottom:3px !important;background:linear-gradient( 90deg, transparent, rgba(255, 255, 255, 0.1), transparent ) !important;border-radius:3px !important;}.nav-chart-grid .gua-grid {display:grid !important;grid-template-columns:repeat(2, 1fr) !important;grid-template-rows:repeat(4, 1fr) !important;gap:3px !important;margin-top:8px !important;padding:4px !important;width:100% !important;grid-auto-flow:row !important;}.nav-chart-grid .gua-item {background:linear-gradient( 135deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.05) ) !important;border:1px solid rgba(255, 255, 255, 0.25) !important;border-radius:4px !important;padding:6px 3px !important;font-size:11px !important;line-height:1.2 !important;cursor:pointer !important;transition:all 0.2s ease !important;text-align:center !important;min-height:24px !important;display:flex !important;flex-direction:column !important;justify-content:center !important;box-shadow:0 1px 2px rgba(0, 0, 0, 0.1) !important;flex:1 !important;}.nav-chart-grid .gua-item:hover {background:var(--brand) !important;color:white !important;transform:scale(1.05) !important;}.modal {position:fixed;inset:0;background:rgba(0, 0, 0, 0.5);display:none;align-items:center;justify-content:center;z-index:80;}#corpusModal .panel {display:flex;flex-direction:column;gap:4px;max-height:80vh;overflow-y:auto;}#corpusModal .panel h3 {margin:0 0 4px 0;font-size:16px;line-height:1.2;}#corpusModal .panel textarea {resize:none;height:120px;margin-bottom:4px;}#corpusModal .panel button {padding:6px 12px;font-size:14px;}#corpusModal .panel .badge {font-size:12px;padding:4px 8px;}#corpusModal .panel .sep {margin:4px 0;}#corpusModal .panel div[style*='justify-content:flex-end'] {gap:4px;}.extra-corpus-content {padding:20px;background:rgba(255, 255, 255, 0.03);border:1px solid var(--line);border-radius:10px;margin-top:15px;min-height:100px;}.corpus-item {margin-bottom:20px;padding:15px;background:rgba(255, 255, 255, 0.08);border-radius:8px;border-left:4px solid var(--brand);box-shadow:0 2px 4px rgba(0, 0, 0, 0.1);transition:all 0.2s ease;}.corpus-item:hover {background:rgba(255, 255, 255, 0.12);transform:translateX(3px);}.corpus-item strong {display:block;color:var(--brand);margin-bottom:8px;font-size:15px;font-weight:600;}.corpus-text {line-height:1.8;color:var(--ink);white-space:pre-line;font-size:14px;padding:5px 0;}.no-data {text-align:center;padding:40px;color:var(--muted);font-style:italic;}#detail-grid-content {display:grid !important;grid-template-columns:1fr !important;gap:20px !important;width:100% !important;min-height:200px !important;}#detail-grid-content .card {display:block !important;width:100% !important;background:var(--card) !important;border:1px solid var(--line) !important;border-radius:12px !important;padding:20px !important;margin:0 !important;box-shadow:0 2px 8px rgba(0, 0, 0, 0.1) !important;}#detailGridExtraSection {display:block !important;width:100% !important;min-height:300px !important;visibility:visible !important;}:root {--bg:#f7f7fb;--fg:#1c1d22;--muted:#666;--card:#ffffff;--pri:#3b82f6;--acc:#10b981;--border:#e6e6ef;--tab:#eef2ff;--warn:#ef4444;}*[data-theme='dark'] {--bg:#0e1013;--fg:#e7e7ef;--muted:#b3b3c2;--card:#171a1f;--pri:#60a5fa;--acc:#34d399;--border:#2a2f38;--tab:#111827;--warn:#f87171;}html, body {margin:0;padding:0;height:100%;background:var(--bg);color:var(--fg);font-family:system-ui, -apple-system, 'Segoe UI', Roboto, 'Noto Sans KR', sans-serif;}.header {display:flex;gap:0.75rem;align-items:center;padding:12px 16px;border-bottom:1px solid var(--border);position:sticky;top:0;background:var(--card);z-index:10;}.header h1 {font-size:16px;margin:0 8px 0 0;font-weight:700;}.header .grow {flex:1;}.input {background:var(--bg);border:1px solid var(--border);padding:8px 10px;border-radius:10px;color:var(--fg);outline:none;width:100%;}.btn {border:1px solid var(--border);background:var(--card);padding:8px 12px;border-radius:10px;cursor:pointer;color:var(--fg);}.btn.pri {background:var(--pri);border-color:transparent;color:white;}.btn.acc {background:var(--acc);border-color:transparent;color:black;}.btn.warn {background:var(--warn);border-color:transparent;color:white;}.btn:disabled {opacity:0.6;cursor:not-allowed;}.container {display:grid;grid-template-columns:250px 260px 1fr;gap:12px;padding:12px;height:calc(100% - 58px);}.container.single-line-layout {display:flex !important;flex-direction:row !important;grid-template-columns:none !important;gap:20px !important;width:100% !important;max-width:1280px !important;margin:0 auto !important;padding:20px !important;}.container.single-line-layout .left-panel {flex:0 0 calc(20% - 10px) !important;height:100% !important;min-width:0 !important;max-width:calc(20% - 10px) !important;}.container.single-line-layout .right-panel {flex:0 0 calc(80% - 10px) !important;height:100% !important;min-width:0 !important;max-width:calc(80% - 10px) !important;}.compact-list {max-height:calc(100% - 120px) !important;overflow-y:auto !important;}.compact-list .item {padding:4px 6px !important;margin:2px 0 !important;font-size:14px !important;font-weight:normal !important;line-height:1.2 !important;text-align:center !important;white-space:nowrap !important;overflow:hidden !important;text-overflow:ellipsis !important;}.compact-list .item:hover {background:var(--brand) !important;color:white !important;}.card {background:var(--card);border:1px solid var(--border);border-radius:14px;overflow:hidden;display:flex;flex-direction:column;min-height:0;}.card h2 {font-size:14px;margin:0;padding:10px 12px;border-bottom:1px solid var(--border);}.list {overflow:auto;}#yaoList.list {width:50%;height:50%;font-size:13px;}.item {padding:8px 12px;border-bottom:1px dashed var(--border);cursor:pointer;}.item:hover {background:var(--brand);color:white;}.item.active {background:var(--brand);color:white;}.split {display:flex;gap:20px;flex:1;min-height:0;}.split .left {flex:0 0 200px;display:flex;flex-direction:column;gap:10px;}.split .right {flex:1;min-width:0;}.info {padding:8px;background:var(--bg);border:1px solid var(--line);border-radius:6px;text-align:center;font-size:12px;color:var(--muted);}#selInfo.info {width:75%;height:75%;}.item:hover {background:var(--bg);}.item.active {background:var(--tab);font-weight:600;}.tags {display:flex;gap:8px;flex-wrap:wrap;padding:8px 12px;}.tag {font-size:12px;padding:4px 8px;border-radius:999px;background:var(--bg);border:1px solid var(--border);color:var(--muted);}.tabs {display:flex;gap:6px;flex-wrap:wrap;padding:8px 8px;border-bottom:1px solid var(--border);background:var(--bg);}.tab {padding:6px 10px;border-radius:10px;background:var(--card);border:1px solid var(--border);cursor:pointer;font-size:13px;}.tab.active {background:var(--pri);color:white;border-color:transparent;}.panel {padding:clamp(8px, 2vw, 16px);overflow:auto;white-space:pre-wrap;line-height:1.6;width:100%;max-width:none;min-width:250px;font-size:clamp(11px, 2.5vw, 14px);margin-left:-10px;box-sizing:border-box;}.panel .line {display:flex;align-items:flex-start;gap:8px;padding:6px 0;border-bottom:1px dashed var(--border);}.panel .idx {min-width:34px;font-weight:700;color:var(--muted);}.kbd {font-size:11px;border:1px solid var(--border);border-bottom-width:2px;padding:2px 6px;border-radius:6px;background:var(--bg);color:var(--muted);}.row {display:flex;gap:8px;align-items:center;}.footer {display:flex;gap:8px;align-items:center;justify-content:space-between;padding:10px 12px;border-top:1px solid var(--border);background:var(--card);}small.muted {color:var(--muted);}.badge {display:inline-flex;align-items:center;gap:6px;background:var(--bg);border:1px solid var(--border);border-radius:999px;padding:4px 8px;font-size:12px;color:var(--muted);}hr.sep {border:none;border-top:1px dashed var(--border);margin:6px 0;}@media (max-width:1100px) {.container {grid-template-columns:1fr;height:auto;}}