const root=document.documentElement,themeBtn=document.getElementById('themeBtn'),exitBtn=document.getElementById('exitBtn');if (localStorage.getItem('theme')==='dark')root.classList.add('dark');themeBtn.addEventListener('click',()=>{root.classList.toggle('dark');localStorage.setItem('theme',root.classList.contains('dark')? 'dark' : 'light');});exitBtn.addEventListener('click',()=>{if (window.self!==window.top) {window.parent.postMessage('closeIframe','*');}else{window.close();}});const HEX=(h)=>h;const bases=[{key: 'B01',name: '블루+화이트',colors: [HEX('#3b82f6'),HEX('#ffffff')],emotion: '신뢰',tone: '쿨·하모니',goal: '집중력 향상',meaning: '명료·차분·전문성. 거리두기와 안정의 균형.',use: '상담 Intake 폼,의료/IT UI,규칙 안내',caution: '저명도 과하면 냉정/거리감',},{key: 'B02',name: '세이지그린+베이지',colors: [HEX('#94b8a6'),HEX('#e9dccb')],emotion: '안정',tone: '뉴트럴·하모니',goal: '불안 완화',meaning: '자연·회복·균형. 시각 피로 완충.',use: '상담실 벽/소품,대기실',caution: '과도 저채도는 침잠감',},{key: 'B03',name: '옐로+그레이',colors: [HEX('#eab308'),HEX('#9ca3af')],emotion: '낙관',tone: '웜·컨트라스트',goal: '행동 활성',meaning: '주의환기·낙관·아이디어 촉진.',use: '학습/워크숍 포인트,TODO 하이라이트',caution: '고채도 대면적 피로',},{key: 'B04',name: '코랄+베이지',colors: [HEX('#fb7185'),HEX('#f5e6da')],emotion: '따뜻함',tone: '웜·하모니',goal: '라포/공감',meaning: '돌봄·유대·포용. 라포 형성에 유익.',use: '웰컴 영역,라벨/배지',caution: '유아화 인상 시 채도↓',},{key: 'B05',name: '네이비+골드',colors: [HEX('#1e293b'),HEX('#f59e0b')],emotion: '권위',tone: '쿨·컨트라스트',goal: '자기확신',meaning: '고급·믿음·성과 상징.',use: '마일스톤/성과 보드,보고서 헤더',caution: '면적 과하면 위압',},{key: 'B06',name: '민트+네이비',colors: [HEX('#99f6e4'),HEX('#1f2a44')],emotion: '신선',tone: '쿨·컨트라스트',goal: '집중력 향상',meaning: '청량·명료. 집중 유지에 도움.',use: '타임블록 카드,집중 존',caution: '차가움 트리거 시 민트 명도↑',},{key: 'B07',name: '라벤더+라이트그레이',colors: [HEX('#c4b5fd'),HEX('#e5e7eb')],emotion: '평온',tone: '쿨·하모니',goal: '수면 위생',meaning: '진정·휴식·완충.',use: '수면/이완 안내,저녁 루틴 UI',caution: '저채도 과하면 침체',},{key: 'B08',name: '틸+화이트',colors: [HEX('#14b8a6'),HEX('#ffffff')],emotion: '청결',tone: '쿨·하모니',goal: '불안 완화',meaning: '위생·신선·안심.',use: '위생/웰니스 안내,체크리스트',caution: '차가움 과도 시 온기 보완',},{key: 'B09',name: '오렌지+슬레이트',colors: [HEX('#f97316'),HEX('#334155')],emotion: '활력',tone: '웜/쿨·컨트라스트',goal: '행동 활성',meaning: '사교·놀이·에너지. 실행 촉진.',use: '브레인스토밍,CTA 버튼',caution: '고채도 과자극 주의',},{key: 'B10',name: '그린+우드',colors: [HEX('#22c55e'),HEX('#a16207')],emotion: '회복',tone: '웜/쿨·하모니',goal: '스트레스 관리',meaning: '자연·균형·접지감.',use: '휴식 코너,관엽식물·우드톤 매치',caution: '브라운 과하면 답답',},{key: 'B11',name: '핑크+베이지',colors: [HEX('#f472b6'),HEX('#ead9cd')],emotion: '유대',tone: '웜·하모니',goal: '관계 개선',meaning: '돌봄·안도·포용.',use: '라포 형성,피드백 코너',caution: '채도 높으면 유치 인상',},{key: 'B12',name: '블랙+화이트',colors: [HEX('#111827'),HEX('#ffffff')],emotion: '명료',tone: '뉴트럴·컨트라스트',goal: '규칙/경계 설정',meaning: '선명·질서·명확.',use: '정보구조,경계/구분선',caution: '고대비 장시간 피로',},{key: 'B13',name: '레드+블랙',colors: [HEX('#ef4444'),HEX('#0f172a')],emotion: '긴장',tone: '웜·컨트라스트',goal: '주의 환기',meaning: '경고·위험·각성.',use: '주의 표식,알림 배지 소량',caution: '불안/공황군 과자극',},{key: 'B14',name: '시안+차콜',colors: [HEX('#06b6d4'),HEX('#374151')],emotion: '차분',tone: '쿨·컨트라스트',goal: '집중력 향상',meaning: '테크·맑음·가독.',use: '폼/표 배경,데이터 대시보드',caution: '차가움 과도시 거리감',},{key: 'B15',name: '샌드+스카이블루',colors: [HEX('#e9decf'),HEX('#93c5fd')],emotion: '개방',tone: '웜/쿨·하모니',goal: '창의',meaning: '여백·개방감·호기심.',use: '아이데이션 벽,노트 섹션',caution: '명도 과하면 산만',},{key: 'B16',name: '플럼+샌드',colors: [HEX('#7c3aed'),HEX('#ead7c4')],emotion: '사색',tone: '웜/쿨·하모니',goal: '자기표현',meaning: '내면·상상·격식.',use: '저널링/예술치료 코너',caution: '퍼플 농도 과하면 거리감',},{key: 'B17',name: '포레스트+크림',colors: [HEX('#166534'),HEX('#fff7ed')],emotion: '안심',tone: '웜/쿨·하모니',goal: '불안 완화',meaning: '안정·따뜻한 균형.',use: '상담실 텍스타일,쿠션',caution: '그린 너무 진하면 무거움',},{key: 'B18',name: '인디고+실버',colors: [HEX('#3730a3'),HEX('#c0c7d1')],emotion: '전문성',tone: '쿨·하모니',goal: '신뢰 구축',meaning: '권위·지성·정돈.',use: '리포트,내비게이션 바',caution: '침잠감 시 라이트톤 보완',},{key: 'B19',name: '터쿼이즈+코랄',colors: [HEX('#22d3ee'),HEX('#fb7185')],emotion: '즐거움',tone: '쿨/웜·컨트라스트',goal: '창의/표현',meaning: '놀이·유연·생동.',use: '워크숍,스티커/태그',caution: '장시간 노출 피로',},{key: 'B20',name: '올리브+아이보리',colors: [HEX('#6b8e23'),HEX('#fffaf0')],emotion: '균형',tone: '웜·하모니',goal: '안정 유지',meaning: '토닉·현실감·안정.',use: '일상 루틴,체크리스트',caution: '올리브 과다 시 탁함',},];const accents=[{tag: '매트 골드',color: '#f0c457',add: '+성취/보상 강조',adjUse: '성과/감사 배지',adjCaution: '과하면 과시',},{tag: '민트 라이트',color: '#c6f7e2',add: '+신선/청량 보완',adjUse: '집중/가독 보완',adjCaution: '차가움 트리거 주의',},{tag: '코랄 라이트',color: '#ffd1cf',add: '+온기/라포 보완',adjUse: '라포/피드백',adjCaution: '유아화 인상 주의',},{tag: '바이올렛',color: '#cdb4ff',add: '+창의/사색 보완',adjUse: '창의/표현 작업',adjCaution: '거리감 유발 가능',},{tag: '쿨그레이',color: '#e5e7eb',add: '+중립/정돈 보완',adjUse: '표/리스트 배경',adjCaution: '무기력 인상 주의',},{tag: '라이트 옐로',color: '#fff7ae',add: '+낙관/주의 환기',adjUse: '메모/하이라이트',adjCaution: '고채도면 피로',},];const combos=[];bases.forEach((b,i)=>{accents.forEach((a,j)=>{combos.push({id: String(i*6+j+1).padStart(3,'0'),baseKey: b.key,name: `${b.name}× ${a.tag}`,colors: [b.colors[0],b.colors[1],a.color],emotion: b.emotion,tone: b.tone,goal: b.goal,meaning: `${b.meaning}${a.add}`,use: `${b.use}· ${a.adjUse}`,caution: `${b.caution}· ${a.adjCaution}`,});});});let mode='emotion';const q=document.getElementById('q');const grid=document.getElementById('grid');const filterBar=document.getElementById('filterBar');const tabs=Array.from(document.querySelectorAll('.tab'));const options={emotion: [...new Set(combos.map((c)=>c.emotion))],tone: [...new Set(combos.map((c)=>c.tone))],goal: [...new Set(combos.map((c)=>c.goal))],};let activeFilter='ALL';function renderFilters() {filterBar.innerHTML='';const allBtn=document.createElement('button');allBtn.className='filter'+(activeFilter==='ALL' ? ' active' : '');allBtn.textContent='전체 보기';allBtn.onclick=()=>{activeFilter='ALL';renderGrid();};filterBar.appendChild(allBtn);options[mode].forEach((v)=>{const b=document.createElement('button');b.className='filter'+(activeFilter===v ? ' active' : '');b.textContent=v;b.onclick=()=>{activeFilter=activeFilter===v ? 'ALL' : v;renderGrid();};filterBar.appendChild(b);});}function renderGrid() {const term=(q.value||'').trim().toLowerCase();const items=combos.filter((c)=>{const passFilter=activeFilter==='ALL'||c[mode]===activeFilter;const passSearch=!term||(c.name+c.emotion+c.tone+c.goal+c.meaning+c.use+c.caution).toLowerCase().includes(term);return passFilter&&passSearch;});grid.innerHTML='';items.forEach((c)=>{const card=document.createElement('div');card.className='card';const head=document.createElement('div');head.className='head';head.innerHTML=`<div class="name">#${c.id}${c.name}</div><div class="pill">${c.emotion}· ${c.tone}· ${c.goal}</div>`;const sw=document.createElement('div');sw.className='sw';c.colors.forEach((h)=>{const s=document.createElement('div');s.className='chip';s.style.background=h;sw.appendChild(s);});const info=document.createElement('div');info.className='row';info.innerHTML=`<div><b>심리 의미</b>: ${c.meaning}</div><div><b>활용</b>: ${c.use}</div><div class="k"><b>주의</b>: ${c.caution}</div>`;card.appendChild(head);card.appendChild(sw);card.appendChild(info);grid.appendChild(card);});}tabs.forEach((t)=>{t.addEventListener('click',()=>{tabs.forEach((x)=>x.classList.remove('active'));t.classList.add('active');mode=t.dataset.mode;activeFilter='ALL';renderFilters();renderGrid();});});q.addEventListener('input',()=>renderGrid());renderFilters();renderGrid();