const $=(s,el=document)=>el.querySelector(s);const $$=(s,el=document)=>[...el.querySelectorAll(s)];const themeLight=$('#themeLight');const themeDark=$('#themeDark');const root=document.documentElement;function setTheme(mode){document.body.setAttribute('data-theme',mode);themeLight.setAttribute('aria-pressed',String(mode==='light'));themeDark.setAttribute('aria-pressed',String(mode==='dark'));localStorage.setItem('tjb_theme',mode);}
themeLight.addEventListener('click',()=>setTheme('light'));themeDark.addEventListener('click',()=>setTheme('dark'));setTheme(localStorage.getItem('tjb_theme')||'light');const q=$('#q');const menu=$('#menu');q.addEventListener('input',()=>{const term=q.value.toLowerCase();$$('#menu a',menu).forEach((a)=>{const text=a.textContent.toLowerCase();a.style.display=text.includes(term)?'':'none';});});const btnExpand=$('#btnExpand');const btnCollapse=$('#btnCollapse');btnExpand.addEventListener('click',()=>{$$('details').forEach((d)=>(d.open=true));});btnCollapse.addEventListener('click',()=>{$$('details').forEach((d)=>(d.open=false));});$('#btnTop').addEventListener('click',()=>window.scrollTo({top:0,behavior:'smooth'}));$('#btnClose').addEventListener('click',()=>{window.close();setTimeout(()=>{if(!window.closed){window.history.back();}},100);});$$('#menu a').forEach((a)=>{a.addEventListener('click',(e)=>{const id=a.getAttribute('href');if(id&&id.startsWith('#')){e.preventDefault();document.querySelector(id)?.scrollIntoView({behavior:'smooth',block:'start'});}});});