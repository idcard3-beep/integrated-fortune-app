window.MEMBER_SESSION={smem_id:null,smem_name:null,smem_nickname:null,smem_status:null,adviser_role:null,isLoggedIn:false,};window.setMemberSession=function(memberData){console.log('ğŸ” íšŒì› ì„¸ì…˜ ì„¤ì •:',memberData);if(memberData){window.MEMBER_SESSION.smem_id=memberData.smem_id||null;window.MEMBER_SESSION.smem_name=memberData.smem_name||null;window.MEMBER_SESSION.smem_nickname=memberData.smem_nickname||null;window.MEMBER_SESSION.smem_status=memberData.smem_status||null;window.MEMBER_SESSION.adviser_role=memberData.adviser_role||null;window.MEMBER_SESSION.isLoggedIn=true;console.log('ğŸ“‹ íšŒì› ìƒíƒœ(smem_status):',window.MEMBER_SESSION.smem_status);console.log('ğŸ‘¤ ìƒë‹´ì‚¬ ì—­í• (adviser_role):',window.MEMBER_SESSION.adviser_role);try{sessionStorage.setItem('member_session',JSON.stringify(window.MEMBER_SESSION));console.log('âœ… íšŒì› ì„¸ì…˜ sessionStorage ì €ì¥ ì™„ë£Œ');localStorage.setItem('member_session',JSON.stringify(window.MEMBER_SESSION));console.log('âœ… íšŒì› ì„¸ì…˜ localStorage ì €ì¥ ì™„ë£Œ');}catch(e){console.warn('âš ï¸ ì„¸ì…˜ ì €ì¥ ì‹¤íŒ¨:',e);}}};window.clearMemberSession=function(){console.log('ğŸ”“ íšŒì› ì„¸ì…˜ ì™„ì „ ì´ˆê¸°í™” ì‹œì‘...');window.MEMBER_SESSION={smem_id:null,smem_name:null,smem_nickname:null,smem_status:null,adviser_role:null,isLoggedIn:false,};console.log('   âœ“ ì „ì—­ ë³€ìˆ˜ ì´ˆê¸°í™” ì™„ë£Œ');try{sessionStorage.removeItem('member_session');sessionStorage.removeItem('memberData');sessionStorage.removeItem('mock_access_token');sessionStorage.removeItem('smem_id');sessionStorage.removeItem('smem_name');sessionStorage.removeItem('smem_nickname');console.log('   âœ“ sessionStorage ì™„ì „ ì‚­ì œ ì™„ë£Œ');}catch(e){console.warn('   âš ï¸ sessionStorage ì‚­ì œ ì‹¤íŒ¨:',e);}
try{localStorage.removeItem('member_session');localStorage.removeItem('memberData');localStorage.removeItem('mock_access_token');localStorage.removeItem('smem_id');localStorage.removeItem('smem_name');localStorage.removeItem('smem_nickname');console.log('   âœ“ localStorage ì™„ì „ ì‚­ì œ ì™„ë£Œ');}catch(e){console.warn('   âš ï¸ localStorage ì‚­ì œ ì‹¤íŒ¨:',e);}
console.log('âœ… íšŒì› ì„¸ì…˜ ì™„ì „ ì´ˆê¸°í™” ì™„ë£Œ');console.log('   ìµœì¢… ìƒíƒœ:',window.MEMBER_SESSION);};window.getMemberSession=function(){return window.MEMBER_SESSION;};window.restoreMemberSession=function(){try{let saved=sessionStorage.getItem('member_session');if(saved){const data=JSON.parse(saved);window.MEMBER_SESSION={smem_id:data.smem_id||null,smem_name:data.smem_name||null,smem_nickname:data.smem_nickname||null,smem_status:data.smem_status||null,adviser_role:data.adviser_role||null,isLoggedIn:data.isLoggedIn||false,};try{localStorage.setItem('member_session',JSON.stringify(window.MEMBER_SESSION));}catch(e){console.warn('âš ï¸ localStorage ë™ê¸°í™” ì‹¤íŒ¨:',e);}
console.log('âœ… sessionStorageì—ì„œ íšŒì› ì„¸ì…˜ ë³µì›:',data);return true;}
saved=localStorage.getItem('member_session');if(saved){const data=JSON.parse(saved);window.MEMBER_SESSION={smem_id:data.smem_id||null,smem_name:data.smem_name||null,smem_nickname:data.smem_nickname||null,smem_status:data.smem_status||null,adviser_role:data.adviser_role||null,isLoggedIn:data.isLoggedIn||false,};try{sessionStorage.setItem('member_session',JSON.stringify(window.MEMBER_SESSION));}catch(e){console.warn('âš ï¸ sessionStorage ë™ê¸°í™” ì‹¤íŒ¨:',e);}
console.log('âœ… localStorageì—ì„œ íšŒì› ì„¸ì…˜ ë³µì›:',data);return true;}
let memberData=sessionStorage.getItem('memberData');if(!memberData){memberData=localStorage.getItem('memberData');}
if(memberData){const data=JSON.parse(memberData);window.MEMBER_SESSION.smem_id=data.smem_id;window.MEMBER_SESSION.smem_name=data.smem_name;window.MEMBER_SESSION.smem_nickname=data.smem_nickname;window.MEMBER_SESSION.smem_status=data.smem_status;window.MEMBER_SESSION.adviser_role=data.adviser_role;window.MEMBER_SESSION.isLoggedIn=true;try{const sessionData=JSON.stringify(window.MEMBER_SESSION);sessionStorage.setItem('member_session',sessionData);localStorage.setItem('member_session',sessionData);}catch(e){console.warn('âš ï¸ ì„¸ì…˜ ë™ê¸°í™” ì‹¤íŒ¨:',e);}
console.log('âœ… memberDataì—ì„œ íšŒì› ì„¸ì…˜ ë³µì›:',data);return true;}}catch(e){console.warn('âš ï¸ ì„¸ì…˜ ë³µì› ì‹¤íŒ¨:',e);}
return false;};window.isMemberLoggedIn=function(){return(window.MEMBER_SESSION.isLoggedIn&&window.MEMBER_SESSION.smem_id!==null);};window.restoreMemberSession();console.log('âœ… member_session.js ë¡œë“œ ì™„ë£Œ - ì „ì—­ ë³€ìˆ˜ ì¤€ë¹„ë¨');