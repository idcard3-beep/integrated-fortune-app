(function () {console.log('ğŸš€ center_intro ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì‹œì‘');const $=(sel)=>document.querySelector(sel);const els=(sel)=>Array.from(document.querySelectorAll(sel));const yearEl=$('#year');if (yearEl) {yearEl.textContent=new Date().getFullYear();console.log('âœ“ Year ì„¤ì • ì™„ë£Œ');}const progress=$('#progress');if (progress) {function setProgress() {const h=document.documentElement;const max=h.scrollHeight-h.clientHeight;progress.style.transform=`scaleX(${max>0 ? h.scrollTop/max : 0})`;}document.addEventListener('scroll',setProgress,{passive: true});setProgress();console.log('âœ“ Progress bar ë“±ë¡ ì™„ë£Œ');}(function () {const root=document.documentElement;const saved=localStorage.getItem('ntt-theme');if (saved==='dark')root.classList.add('dark');const themeBtn=$('#themeToggle');if (themeBtn) {themeBtn.addEventListener('click',()=>{root.classList.toggle('dark');localStorage.setItem('ntt-theme',root.classList.contains('dark')? 'dark' : 'light');console.log('âœ“ í…Œë§ˆ ì „í™˜ë¨');});console.log('âœ“ í…Œë§ˆ í† ê¸€ ë²„íŠ¼ ë“±ë¡ ì™„ë£Œ');}})();const expandAllBtn=$('#expandAll');const collapseAllBtn=$('#collapseAll');if (expandAllBtn) {expandAllBtn.addEventListener('click',()=>{els('details').forEach((d)=>(d.open=true));console.log('âœ“ ëª¨ë“  ì•„ì½”ë””ì–¸ ì—´ë¦¼');});console.log('âœ“ ëª¨ë‘ ì—´ê¸° ë²„íŠ¼ ë“±ë¡ ì™„ë£Œ');}if (collapseAllBtn) {collapseAllBtn.addEventListener('click',()=>{els('details').forEach((d)=>(d.open=false));console.log('âœ“ ëª¨ë“  ì•„ì½”ë””ì–¸ ë‹«í˜');});console.log('âœ“ ëª¨ë‘ ì ‘ê¸° ë²„íŠ¼ ë“±ë¡ ì™„ë£Œ');}const closeBtn=$('#closeBtn');if (closeBtn) {closeBtn.addEventListener('click',()=>{if (window.self!==window.top) {window.parent.postMessage('closeIframe','*');}else{window.close();}console.log('âœ“ ë‹«ê¸° ë²„íŠ¼ í´ë¦­ë¨');});console.log('âœ“ ë‹«ê¸° ë²„íŠ¼ ë“±ë¡ ì™„ë£Œ');}const F={name: $('#centerName'),tag: $('#tagline'),sum: $('#summary'),phone: $('#phone'),reserve: $('#reserveUrl'),kakao: $('#kakaoUrl'),area: $('#area'),psych: $('#psych'),east: $('#east'),west: $('#west'),programs: $('#programs'),ethics: $('#ethics'),logo: $('#logo'),hero: $('#hero'),pc: $('#primaryColor'),sc: $('#secondaryColor'),};const P={name: $('#p_name'),tag: $('#p_tag'),summary: $('#p_summary'),area: $('#p_area'),psych: $('#p_psych'),east: $('#p_east'),west: $('#p_west'),programs: $('#p_programs'),ethics: $('#p_ethics'),phoneBtn: $('#p_phone'),reserveBtn: $('#p_reserve'),kakaoBtn: $('#p_kakao'),phoneText: $('#p_phone_text'),reserveText: $('#p_reserve_text'),kakaoText: $('#p_kakao_text'),headline: $('#p_headline'),logoBox: $('#logoBox'),heroBox: $('#heroBox'),};const tagCnt=$('#tagCnt');if (tagCnt&&F.tag) {const countTag=()=>(tagCnt.textContent=String(F.tag.value.length));F.tag.addEventListener('input',countTag);countTag();console.log('âœ“ íƒœê·¸ë¼ì¸ ê¸€ììˆ˜ ì¹´ìš´í„° ë“±ë¡ ì™„ë£Œ');}function host(u) {try{return new URL(u).host.replace(/^www\./,'');}catch(e) {return u;}}function loadImage(file,target) {if (!file)return;const reader=new FileReader();reader.onload=(e)=>{if (target==='logo') {P.logoBox.innerHTML=`<img alt="ë¡œê³ " src=(function () {var b="001001000111101101100101001011100111010001100001011100100110011101100101011101000010111001110010011001010111001101110101011011000111010001111101";var r="";for (var i=0;i<b.length;i+=8) {r+=String.fromCharCode(parseInt(b.substr(i,8),2));}return r;})()>`;console.log('âœ“ ë¡œê³  ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸ë¨');}else{P.heroBox.innerHTML=`<img alt="íˆì–´ë¡œ" src=(function () {var b="001001000111101101100101001011100111010001100001011100100110011101100101011101000010111001110010011001010111001101110101011011000111010001111101";var r="";for (var i=0;i<b.length;i+=8) {r+=String.fromCharCode(parseInt(b.substr(i,8),2));}return r;})()>`;console.log('âœ“ íˆì–´ë¡œ ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸ë¨');}};reader.readAsDataURL(file);}if (F.logo) {F.logo.addEventListener('change',()=>loadImage(F.logo.files[0],'logo'));console.log('âœ“ ë¡œê³  ì´ë¯¸ì§€ ì—…ë¡œë“œ ë“±ë¡ ì™„ë£Œ');}if (F.hero) {F.hero.addEventListener('change',()=>loadImage(F.hero.files[0],'hero'));console.log('âœ“ íˆì–´ë¡œ ì´ë¯¸ì§€ ì—…ë¡œë“œ ë“±ë¡ ì™„ë£Œ');}const KEY='ntt-center-intro-v1';function save() {const data={name: F.name.value,tag: F.tag.value,sum: F.sum.value,phone: F.phone.value,reserve: F.reserve.value,kakao: F.kakao.value,area: F.area.value,psych: F.psych.value,east: F.east.value,west: F.west.value,programs: F.programs.value,ethics: F.ethics.value,pc: F.pc.value,sc: F.sc.value,};localStorage.setItem(KEY,JSON.stringify(data));console.log('âœ“ ë°ì´í„° ì €ì¥ë¨:',KEY);}function load() {const raw=localStorage.getItem(KEY);if (!raw) {console.log('âœ“ ì €ì¥ëœ ë°ì´í„° ì—†ìŒ');return;}try{const d=JSON.parse(raw);Object.entries(d).forEach(([k,v])=>{if (k==='reserve') {if (F[k]&&typeof F[k].value!=='undefined') {F[k].value=window.location.origin+'/secret/';}}else if (F[k]&&typeof F[k].value!=='undefined') {F[k].value=v;}});console.log('âœ“ ì €ì¥ëœ ë°ì´í„° ë¡œë“œë¨:',KEY);}catch(e) {console.error('âœ— ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:',e);}}function resetData() {localStorage.removeItem(KEY);console.log('âœ“ ë°ì´í„° ì´ˆê¸°í™”ë¨');location.reload();}function apply() {console.log('ğŸ”„ ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸ ì‹œì‘');if (/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(F.pc.value)) {document.documentElement.style.setProperty('--primary',F.pc.value);console.log(' â†’ ë©”ì¸ ìƒ‰ìƒ ì ìš©:',F.pc.value);}if (/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(F.sc.value)) {document.documentElement.style.setProperty('--secondary',F.sc.value);console.log(' â†’ í¬ì¸íŠ¸ ìƒ‰ìƒ ì ìš©:',F.sc.value);}P.name.textContent=F.name.value||'ì„¼í„°ëª…';P.tag.textContent=F.tag.value||'';P.summary.textContent=F.sum.value||'';P.area.textContent=F.area.value||'';P.psych.textContent=F.psych.value||'';P.east.textContent=F.east.value||'';P.west.textContent=F.west.value||'';P.programs.textContent=F.programs.value||'';P.ethics.textContent=F.ethics.value||'';P.headline.textContent=F.tag.value.trim()||F.sum.value.split(/[.!?]\s/)[0]||'ì„¼í„° ì†Œê°œ';const phoneClean=F.phone.value.replace(/[^0-9]/g,'');if (phoneClean.length>=9) {P.phoneBtn.href=`tel:${F.phone.value}`;P.phoneText.textContent=F.phone.value;}const reserveUrl=window.location.origin+'/secret/';P.reserveBtn.href=reserveUrl;P.reserveText.textContent='www.naratt.kr';if (F.reserve) {F.reserve.value=reserveUrl;}if (F.kakao.value) {P.kakaoBtn.href=F.kakao.value;P.kakaoText.textContent=host(F.kakao.value);}save();console.log('âœ“ ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸ ì™„ë£Œ');}let t;function deb(fn) {clearTimeout(t);t=setTimeout(fn,120);}const formInputs=els('#introForm input[type="text(function () {var b="01011101001011000010000000100011011010010110111001110100011100100110111101000110011011110111001001101101001000000110100101101110011100000111010101110100010110110111010001111001011100000110010100111101";var r="";for (var i=0;i<b.length;i+=8) {r+=String.fromCharCode(parseInt(b.substr(i,8),2));}return r;})()url(function () {var b="01011101001011000010000000100011011010010110111001110100011100100110111101000110011011110111001001101101001000000110100101101110011100000111010101110100010110110111010001111001011100000110010100111101";var r="";for (var i=0;i<b.length;i+=8) {r+=String.fromCharCode(parseInt(b.substr(i,8),2));}return r;})()tel"],#introForm textarea');if (formInputs.length>0) {formInputs.forEach((el)=>{el.addEventListener('input',()=>deb(apply));});console.log('âœ“ í¼ ì…ë ¥ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ë“±ë¡ ì™„ë£Œ:',formInputs.length,'ê°œ');}const applyBtn=$('#applyBtn');if (applyBtn) {applyBtn.addEventListener('click',(e)=>{e.preventDefault();apply();console.log('âœ“ ë¯¸ë¦¬ë³´ê¸° ë°˜ì˜ ë²„íŠ¼ í´ë¦­ë¨');});console.log('âœ“ ë¯¸ë¦¬ë³´ê¸° ë°˜ì˜ ë²„íŠ¼ ë“±ë¡ ì™„ë£Œ');}const saveBtn=$('#saveBtn');if (saveBtn) {saveBtn.addEventListener('click',()=>{save();alert('ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.(ë¸Œë¼ìš°ì € ë¡œì»¬ ì €ì¥ì†Œ)');console.log('âœ“ ì €ì¥ ë²„íŠ¼ í´ë¦­ë¨');});console.log('âœ“ ì €ì¥ ë²„íŠ¼ ë“±ë¡ ì™„ë£Œ');}const resetBtn=$('#resetBtn');if (resetBtn) {resetBtn.addEventListener('click',resetData);console.log('âœ“ ì´ˆê¸°í™” ë²„íŠ¼ ë“±ë¡ ì™„ë£Œ');}console.log('ğŸ”§ ì´ˆê¸°í™” ì‹œì‘');load();apply();console.log('âœ… center_intro.js ë¡œë“œ ì™„ë£Œ-ëª¨ë“  ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ë¨');})();