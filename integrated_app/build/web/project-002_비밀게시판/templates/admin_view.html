<!doctype html><html lang=ko><meta charset=UTF-8><title>ê´€ë¦¬ì - ìƒë‹´ ìƒì„¸</title><link href="{{ url_for('secret.static', filename='style.css') }}" rel=stylesheet><link href="{{ url_for('secret.static', filename='security.css') }}" rel=stylesheet><style>.admin-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        padding: 15px 0;
        border-bottom: 2px solid #e9ecef;
      }

      .admin-title {
        margin: 0;
        color: #333;
      }

      .nav-button {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 10px 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        text-decoration: none;
        border-radius: 25px;
        font-weight: 500;
        transition: all 0.3s ease;
        box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        font-size: 14px;
      }

      .nav-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
      }

      .nav-button::before {
        content: 'â† ';
        font-weight: bold;
      }

      /* ë©”ì‹œì§€ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
      .message-container {
        position: relative;
        margin-bottom: 10px;
        padding: 10px;
        border-radius: 8px;
        background-color: #f8f9fa;
      }

      .message-container.admin {
        background-color: #e3f2fd;
        border-left: 4px solid #2196f3;
      }

      .message-container.user {
        background-color: #fff3e0;
        border-left: 4px solid #ff9800;
      }

      .message-content {
        margin-bottom: 8px;
        word-wrap: break-word;
      }

      .message-actions {
        display: flex;
        gap: 8px;
        margin-top: 8px;
      }

      .message-actions button {
        padding: 6px 12px;
        font-size: 12px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .btn-edit {
        background: linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);
        color: white;
      }

      .btn-edit:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(76, 175, 80, 0.3);
      }

      .btn-delete {
        background: linear-gradient(135deg, #f44336 0%, #e57373 100%);
        color: white;
      }

      .btn-delete:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(244, 67, 54, 0.3);
      }

      .btn-save {
        background: linear-gradient(135deg, #2196f3 0%, #64b5f6 100%);
        color: white;
      }

      .btn-save:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(33, 150, 243, 0.3);
      }

      .btn-cancel {
        background: linear-gradient(135deg, #9e9e9e 0%, #bdbdbd 100%);
        color: white;
      }

      .btn-cancel:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(158, 158, 158, 0.3);
      }

      .edit-textarea {
        width: 100%;
        min-height: 80px;
        padding: 10px;
        border: 2px solid #2196f3;
        border-radius: 4px;
        font-size: 14px;
        resize: vertical;
        box-sizing: border-box;
      }

      .edit-textarea:focus {
        outline: none;
        border-color: #1976d2;
        box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);
      }</style><body><div style="background-color: #e3f2fd;
        padding: 10px;
        text-align: center;
        border: 1px solid #2196f3;
        margin-bottom: 20px;"><span style="color: #1976d2; font-weight: bold">ğŸ—„ï¸ ìƒë‹´ ìš”ì²­ (ê´€ë¦¬ì ë‹µë³€ ë‹¬ê¸°)</span></div><div class=admin-header><h2 class=admin-title>ê´€ë¦¬ì - ìƒë‹´ ìƒì„¸</h2><a class=nav-button href=/secret/admin_list>ìƒë‹´ìš”ì²­ ëª©ë¡</a></div><div id=meta></div><article class=card id=content></article><section class=card><h3>ìŠ¤ë ˆë“œ</h3><div id=thread></div><textarea placeholder="ê´€ë¦¬ì ë‹µë³€ì„ ì…ë ¥í•˜ì„¸ìš”" id=adminReply rows=4></textarea><br><div style="margin-top: 15px"><button style="margin-right: 10px" onclick=sendAdminReply()>ë‹µë³€ ë“±ë¡</button><a style="text-decoration: none; display: inline-flex" class=nav-button href=/secret/admin_list>ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a></div></section><script src="{{ url_for('secret.static', filename='member_session.js') }}"></script><script src="{{ url_for('secret.static', filename='admin_session.js') }}"></script><script>(function checkAdminLogin() {
        // admin_session.jsê°€ ë¡œë“œë  ë•Œê¹Œì§€ ëŒ€ê¸°
        if (typeof window.getAdminSession === 'function') {
          const adminSession = window.getAdminSession();

          // ê´€ë¦¬ì ì„¸ì…˜ì´ ì—†ê±°ë‚˜ ë¡œê·¸ì¸ ìƒíƒœê°€ ì•„ë‹ˆë©´ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
          if (
            !adminSession ||
            !adminSession.isLoggedIn ||
            !adminSession.admin_id
          ) {
            alert('ê´€ë¦¬ì ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
            window.location.href = '/secret/admin_login';
            return;
          }

          console.log('ê´€ë¦¬ì ì¸ì¦ ì™„ë£Œ:', adminSession.username);
        } else {
          console.error('admin_session.jsê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
          alert('ê´€ë¦¬ì ì„¸ì…˜ ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¡œë“œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
          window.location.href = '/secret/admin_login';
        }
      })();</script><script src="{{ url_for('secret.static', filename='admin_view.js') }}"></script><script src="{{ url_for('secret.static', filename='security.js') }}"></script>