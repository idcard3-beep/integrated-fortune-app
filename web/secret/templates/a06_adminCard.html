<!DOCTYPE html> <html lang="ko"> <head> <meta charset="utf-8" /> <meta name="viewport" content="width=device-width,initial-scale=1" /> <title>admin_users 관리자 계정 관리</title> <style> :root { --bg: #f8fafc; /* 기본(라이트) */ --panel: #ffffff; --text: #0f172a; --muted: #64748b; --brand: #4f46e5; --brand-weak: #eef2ff; --line: #e2e8f0; --accent: #10b981; --danger: #ef4444; --warn: #f59e0b; --shadow: 0 6px 20px rgba(2, 6, 23, 0.08); } [data-theme='dark'] { --bg: #0b1020; --panel: #0f172a; --text: #e5e7eb; --muted: #94a3b8; --brand: #8b5cf6; --brand-weak: #1f1b3d; --line: #1f2a44; --accent: #22c55e; --danger: #f87171; --warn: #fbbf24; --shadow: 0 8px 28px rgba(0, 0, 0, 0.35); } [data-theme='sepia'] { --bg: #f7f1e3; --panel: #fff8ea; --text: #3b2f2f; --muted: #6b5c4a; --brand: #b7791f; --brand-weak: #f6ead6; --line: #e8d9bf; --accent: #2f855a; --danger: #c53030; --warn: #b7791f; --shadow: 0 6px 20px rgba(139, 92, 40, 0.15); } html, body { height: 100%; } body { margin: 0; background: var(--bg); color: var(--text); font: 14px/1.5 system-ui, -apple-system, Segoe UI, Roboto, 'Noto Sans KR', Arial, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif; } .wrap { max-width: 1200px; margin: 24px auto; padding: 12px; } .appbar { display: flex; gap: 12px; align-items: center; justify-content: space-between; margin-bottom: 12px; } .appbar .left { display: flex; gap: 10px; align-items: center; } .logo { display: inline-flex; align-items: center; gap: 10px; padding: 8px 12px; border-radius: 14px; background: var(--brand-weak); color: var(--brand); box-shadow: var(--shadow); font-weight: 700; } .logo .dot { width: 10px; height: 10px; border-radius: 50%; background: var(--brand); } .appbar .right { display: flex; gap: 8px; align-items: center; } .btn { border: 1px solid var(--line); background: var(--panel); color: var(--text); padding: 8px 12px; border-radius: 10px; cursor: pointer; box-shadow: var(--shadow); } .btn.primary { background: var(--brand); color: white; border-color: transparent; } .btn.ghost { background: transparent; } .btn.danger { background: var(--danger); color: white; border-color: transparent; } .btn.warn { background: var(--warn); color: black; border-color: transparent; } .toolbar { display: grid; grid-template-columns: 1fr auto auto; gap: 10px; padding: 12px; background: var(--panel); border: 1px solid var(--line); border-radius: 14px; box-shadow: var(--shadow); align-items: center; } .toolbar .role-filter { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; } .toolbar select, .toolbar input { border: 1px solid var(--line); background: var(--bg); color: var(--text); padding: 8px 10px; border-radius: 10px; min-width: 120px; } .toolbar .search { display: flex; gap: 8px; align-items: center; } .grid-and-form { display: grid; grid-template-columns: 1.2fr 1fr; gap: 12px; margin-top: 12px; } @media (max-width: 980px) { .grid-and-form { grid-template-columns: 1fr; } } .card { background: var(--panel); border: 1px solid var(--line); border-radius: 14px; box-shadow: var(--shadow); } .card h3 { margin: 0; padding: 12px 14px; border-bottom: 1px solid var(--line); font-size: 15px; } .table-wrap { overflow: auto; } table { width: 100%; border-collapse: separate; border-spacing: 0 8px; padding: 8px 10px; } thead th { font-size: 12px; color: var(--muted); text-align: left; position: sticky; top: 0; background: var(--panel); } tbody tr { background: var(--bg); border: 1px solid var(--line); } tbody tr.selected { outline: 2px solid var(--brand); } td, th { padding: 10px 12px; } tbody td { font-size: 13px; } .badge { display: inline-block; padding: 3px 8px; border-radius: 999px; background: var(--brand-weak); color: var(--brand); font-size: 12px; font-weight: 600; border: 1px solid var(--line); } .badge.warn { background: #fef3c7; color: var(--warn); border-color: var(--warn); } .badge.danger { background: #fee2e2; color: var(--danger); border-color: var(--danger); } .muted { color: var(--muted); } .grid-footer { display: flex; justify-content: space-between; align-items: center; padding: 10px 14px; border-top: 1px solid var(--line); } .pagination { display: flex; gap: 6px; align-items: center; } .pagination .btn { padding: 6px 10px; } .form { padding: 12px 14px; display: grid; gap: 10px; } .form .row { display: grid; grid-template-columns: 140px 1fr; gap: 10px; align-items: center; } @media (max-width: 560px) { .form .row { grid-template-columns: 1fr; } } .form input, .form select, .form textarea { border: 1px solid var(--line); background: var(--bg); color: var(--text); padding: 10px; border-radius: 10px; width: 100%; } .actions { display: flex; gap: 8px; flex-wrap: wrap; justify-content: flex-end; padding: 10px 14px; border-top: 1px solid var(--line); } .help { padding: 8px 14px; color: var(--muted); font-size: 12px; } .pill { padding: 6px 10px; border-radius: 999px; background: var(--brand-weak); border: 1px solid var(--line); } .status { display: flex; gap: 8px; align-items: center; } .sortable { cursor: pointer; } .sortable::after { content: ' ⇅'; color: var(--muted); font-size: 12px; } </style> <link rel="stylesheet" href="{{ url_for('common_static', filename='security.css') }}" /> </head> <body data-theme="light"> <div class="wrap"> <div class="appbar"> <div class="left"> <div class="logo"> <span class="dot"></span> 관리자 계정관리(dmin Manager) </div> </div> <div class="right"> <button class="btn ghost" id="themeLight">라이트</button> <button class="btn ghost" id="themeDark">다크</button> <button class="btn ghost" id="themeSepia">세피아</button> <button class="btn" id="btnClose">닫기</button> <label class="btn"> 불러오기 <input id="importJson" type="file" accept="application/json" style="display: none" /> </label> </div> </div> <div class="toolbar card" aria-label="admin_users 그리드(검색/필터/정렬)"> <div class="role-filter"> <strong>역할</strong> <select id="roleFilter"> <option value="">전체</option> <option value="SUPERADMIN">superadmin</option> <option value="ADMIN">admin</option> <option value="ADVISER">adviser</option> <option value="COUNSELOR">counselor</option> <option value="THERAPIST">therapist</option> <option value="PSYCHOLOGIST">psychologist</option> <option value="MENTOR">mentor</option> <option value="STAFF">staff</option> <option value="AUDITOR">auditor</option> <option value="AGENT">agent</option> </select> </div> <div class="search"> <input id="q" placeholder="스마트 검색: 관리자 ID / 계정명 / 역할" /> <button class="btn" id="btnSearch">검색</button> <button class="btn ghost" id="btnReset">초기화</button> </div> <div style="text-align: right"> <button class="btn primary" id="btnNew">+ 신규 추가</button> </div> </div> <div class="grid-and-form"> <div class="card" role="region" aria-label="admin_users 그리드"> <h3>관리자 계정 목록</h3> <div class="table-wrap"> <table id="grid"> <thead> <tr> <th class="sortable" data-key="admin_id">관리자 ID</th> <th class="sortable" data-key="username">계정명</th> <th class="sortable" data-key="role">역할</th> <th class="sortable" data-key="admin_status">상태</th> <th class="sortable" data-key="created_at">생성일</th> </tr> </thead> <tbody></tbody> </table> </div> <div class="grid-footer"> <div class="status"> <span class="pill" id="countBadge">0건</span ><span class="muted" >클릭하면 우측에서 전체 항목을 편집할 수 있어요.</span > </div> <div class="pagination"> <button class="btn" id="prev">이전</button> <span id="pageInfo" class="muted">1 / 1</span> <button class="btn" id="next">다음</button> <select id="pageSize"> <option>10</option> <option selected>20</option> <option>50</option> </select> </div> </div> </div> <div class="card" role="region" aria-label="admin_users 편집"> <h3>상세/편집</h3> <div class="form" id="form"> <div class="row"> <label for="f_admin_id" >관리자 ID <span class="muted">(PK, 고유)</span></label > <input id="f_admin_id" placeholder="예: adm001" /> </div> <div class="row"> <label for="f_username" >관리자 계정명 <span class="muted"><br />(not UNIQUE)</span></label > <input id="f_username" placeholder="예: 한글, master" /> </div> <div class="row"> <label for="f_pwd_hash" >pwd_hash <span class="muted">(bcrypt)</span></label > <input id="f_pwd_hash" placeholder="$2b$..." /> </div> <div class="row"> <label for="f_role">역할</label> <select id="f_role"> <option value="SUPERADMIN">superadmin</option> <option value="ADMIN">admin</option> <option value="ADVISER">adviser</option> <option value="COUNSELOR">counselor</option> <option value="PSYCHOLOGIST">psychologist</option> <option value="MENTOR">mentor</option> <option value="STAFF">staff</option> <option value="AUDITOR">auditor</option> <option value="AGENT">agent</option> </select> </div> <div class="row"> <label for="f_admin_status">상태값</label> <select id="f_admin_status"> <option value="OPEN">OPEN (활성)</option> <option value="LOCKED">LOCKED (잠김)</option> <option value="DELETED">DELETED (삭제)</option> </select> </div> <div class="row"> <label for="f_created_at">created_at</label> <input id="f_created_at" type="datetime-local" /> </div> <div class="row"> <label for="plain_pw">비밀번호</label> <div style="display: flex; gap: 8px"> <input id="plain_pw" type="password" placeholder="비밀번호 해시 생성용" /> <button class="btn warn" id="btnHash">해시 생성</button> </div> </div> </div> <div class="actions"> <button class="btn" id="btnSave">저장(추가/수정)</button> <button class="btn danger" id="btnDelete">삭제</button> <button class="btn ghost" id="btnClear">초기화</button> </div> <div class="help"> • 관리자 ID (PK, 고유)는 유일한 Key &mdash; 역할 배치를 확인 할 것 .<br /> • 관리자 ID만 중복은 저장 시 검사합니다.<br /> • 비밀번호를 먼저 입력후 해시 생성 버튼 클릭후 저장버튼 클릭: 비밀번호를 철저히 관리합니다. </div> </div> </div> </div> <script src="https://cdn.jsdelivr.net/npm/bcryptjs@2.4.3/dist/bcrypt.min.js"></script> <script src="{{ url_for('common_static', filename='security.js') }}"></script> <script src="{{ url_for('common_static', filename='admin_session.js') }}"></script> <script src="{{ url_for('common_static', filename='member_session.js') }}"></script> <script src="{{ url_for('static', filename='adminCard.js') }}"></script> </body> </html>